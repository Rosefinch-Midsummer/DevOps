<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DevOps</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="前言.html"><strong aria-hidden="true">1.</strong> 前言</a></li><li class="chapter-item expanded affix "><li class="part-title">Linux</li><li class="chapter-item expanded affix "><li class="part-title">Docker</li><li class="chapter-item expanded affix "><li class="part-title">K8s</li><li class="chapter-item expanded affix "><li class="part-title">Shell</li><li class="chapter-item expanded "><a href="Shell/Shell.html"><strong aria-hidden="true">2.</strong> Shell简介</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Shell/Shell变量.html"><strong aria-hidden="true">2.1.</strong> Shell变量</a></li><li class="chapter-item expanded "><a href="Shell/Shell传递参数.html"><strong aria-hidden="true">2.2.</strong> Shell传递参数</a></li><li class="chapter-item expanded "><a href="Shell/Shell数组.html"><strong aria-hidden="true">2.3.</strong> Shell数组</a></li><li class="chapter-item expanded "><a href="Shell/Shell运算符.html"><strong aria-hidden="true">2.4.</strong> Shell运算符</a></li><li class="chapter-item expanded "><a href="Shell/Shell输入输出.html"><strong aria-hidden="true">2.5.</strong> Shell输入输出</a></li><li class="chapter-item expanded "><a href="Shell/Shell输入输出重定向.html"><strong aria-hidden="true">2.6.</strong> Shell输入输出重定向</a></li><li class="chapter-item expanded "><a href="Shell/Shell流程控制.html"><strong aria-hidden="true">2.7.</strong> Shell流程控制</a></li><li class="chapter-item expanded "><a href="Shell/Shell函数.html"><strong aria-hidden="true">2.8.</strong> Shell函数</a></li><li class="chapter-item expanded "><a href="Shell/Shell文件包含.html"><strong aria-hidden="true">2.9.</strong> Shell文件包含</a></li><li class="chapter-item expanded "><a href="Shell/Shell编程综合案例.html"><strong aria-hidden="true">2.10.</strong> Shell编程综合案例</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">DevOps</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="前言"><a class="header" href="#前言">前言</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-教程"><a class="header" href="#shell-教程">Shell 教程</a></h1>
<ul>
<li><a href="Shell/Shell.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E4%B9%A0-shell-%E7%BC%96%E7%A8%8B">为什么要学习 Shell 编程</a></li>
<li><a href="Shell/Shell.html#shell-%E7%AE%80%E4%BB%8B">Shell 简介</a></li>
<li><a href="Shell/Shell.html#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7">在线工具</a></li>
<li><a href="Shell/Shell.html#shell-%E8%84%9A%E6%9C%AC">Shell 脚本</a></li>
<li><a href="Shell/Shell.html#shell-%E7%8E%AF%E5%A2%83">Shell 环境</a></li>
<li><a href="Shell/Shell.html#%E7%AC%AC%E4%B8%80%E4%B8%AA-shell-%E8%84%9A%E6%9C%AC">第一个 shell 脚本</a>
<ul>
<li><a href="Shell/Shell.html#%E8%BF%90%E8%A1%8C-shell-%E8%84%9A%E6%9C%AC%E6%9C%89%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95">运行 Shell 脚本有两种方法：</a></li>
</ul>
</li>
</ul>
<h2 id="为什么要学习-shell-编程"><a class="header" href="#为什么要学习-shell-编程">为什么要学习 Shell 编程</a></h2>
<p>1.Linux 运维工程师在进行服务器集群管理时，需要编写 Shell 程序来进行服务器管理</p>
<ol start="2">
<li>
<p>对于 JavaEE 和 Python 程序员来说，工作的需要，你的老大会要求你编写一些 Shel 脚本进行程序或者是服务器的维护，比如编写一个定时备份数据库的脚本</p>
</li>
<li>
<p>对于大数据程序员来说，需要编写 Shell 程序来管理集群</p>
</li>
</ol>
<h2 id="shell-简介"><a class="header" href="#shell-简介">Shell 简介</a></h2>
<p>Shell 是一个用 C 语言编写的程序，它是用户使用 Linux 的桥梁。Shell 既是一种命令语言，又是一种程序设计语言。</p>
<p>Shell 是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。</p>
<p>Ken Thompson 的 sh 是第一种 Unix Shell，Windows Explorer 是一个典型的图形界面 Shell。</p>
<hr />
<h2 id="在线工具"><a class="header" href="#在线工具">在线工具</a></h2>
<p><a href="https://www.runoob.com/try/showbash.php?filename=helloworld"><strong>Shell 在线工具</strong></a></p>
<p><a href="https://www.onlinegdb.com/online_bash_shell">Online Bash Shell</a></p>
<h2 id="shell-脚本"><a class="header" href="#shell-脚本">Shell 脚本</a></h2>
<p>Shell 脚本（shell script），是一种为 shell 编写的脚本程序。</p>
<p>业界所说的 shell 通常都是指 shell 脚本，但读者朋友要知道，shell 和 shell script 是两个不同的概念。</p>
<p>由于习惯的原因，简洁起见，本文出现的 "shell 编程" 都是指 shell 脚本编程，不是指开发 shell 自身。</p>
<hr />
<h2 id="shell-环境"><a class="header" href="#shell-环境">Shell 环境</a></h2>
<p>Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p>
<p>Linux 的 Shell 种类众多，常见的有：</p>
<ul>
<li>Bourne Shell（/usr/bin/sh 或 /bin/sh）</li>
<li>Bourne Again Shell（/bin/bash）</li>
<li>C Shell（/usr/bin/csh）</li>
<li>K Shell（/usr/bin/ksh）</li>
<li>Shell for Root（/sbin/sh）</li>
<li>……</li>
</ul>
<p>本教程关注的是 Bash，也就是 Bourne Again Shell，由于易用和免费，Bash 在日常工作中被广泛使用。同时，Bash 也是大多数 Linux 系统默认的 Shell。</p>
<p>在一般情况下，人们并不区分 Bourne Shell 和 Bourne Again Shell，所以，像 <strong>#!/bin/sh</strong>，它同样也可以改为 <strong>#!/bin/bash</strong>。</p>
<p><code>#!</code> 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序。</p>
<hr />
<h2 id="第一个-shell-脚本"><a class="header" href="#第一个-shell-脚本">第一个 shell 脚本</a></h2>
<p>打开文本编辑器 (可以使用 vi/vim 命令来创建文件)，新建一个文件 test.sh，扩展名为 sh（sh 代表 shell），扩展名并不影响脚本执行，见名知意就好，如果你用 php 写 shell 脚本，扩展名就用 php 好了。</p>
<p>输入一些代码，第一行一般是这样：</p>
<pre><code class="language-bash">#!/bin/bash  
echo "Hello World !"  
</code></pre>
<p><code>#!</code> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p>
<p>echo 命令用于向窗口输出文本。</p>
<h3 id="运行-shell-脚本有两种方法"><a class="header" href="#运行-shell-脚本有两种方法">运行 Shell 脚本有两种方法：</a></h3>
<p><code>myshell.sh &amp;</code> 其中加 <code>&amp;</code> 表示后台运行</p>
<p><strong>1、作为可执行程序</strong></p>
<p>将上面的代码保存为 test.sh，并 cd 到相应目录：</p>
<pre><code class="language-shell">chmod +x ./test.sh  #使脚本具有执行权限
./test.sh  #执行脚本
</code></pre>
<p>注意，一定要写成 ./test.sh，而不是 <strong>test.sh</strong>，运行其它二进制的程序也一样，直接写 test.sh，linux 系统会去 PATH 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。</p>
<p><strong>2、作为解释器参数</strong></p>
<p>这种运行方式是，直接运行解释器，其参数就是 shell 脚本的文件名，如：</p>
<pre><code class="language-shell">/bin/sh test.sh
/bin/php test.php
</code></pre>
<p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p>
<p>说明：不用赋予脚本 <code>+x</code> 权限，直接执行即可。</p>
<p>例如 <code>sh hello.sh</code> 或 <code>bash hello.sh</code></p>
<p><code>.sh</code> 文件前可以不加 <code>#!/bin/bash</code> 时然后在执行时使用 <code>bash hello.sh</code></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-变量"><a class="header" href="#shell-变量">Shell 变量</a></h1>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89">变量定义</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%98%E9%87%8F%E4%BD%BF%E7%94%A8">变量使用</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F">只读变量</a>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%98%E9%87%8F%E5%88%A0%E9%99%A4">变量删除</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B">变量类型</a>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F-">字符串变量： </a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E6%95%B4%E6%95%B0%E5%8F%98%E9%87%8F">整数变量：</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E6%95%B0%E7%BB%84%E5%8F%98%E9%87%8F-">数组变量： </a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-">环境变量： </a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F">特殊变量：</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#shell-%E5%AD%97%E7%AC%A6%E4%B8%B2">Shell 字符串</a>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8D%95%E5%BC%95%E5%8F%B7">单引号</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%8F%8C%E5%BC%95%E5%8F%B7">双引号</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E6%8B%BC%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AE%9E%E4%BE%8B">拼接字符串实例</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E5%AE%9E%E4%BE%8B">获取字符串长度实例</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E6%8F%90%E5%8F%96%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AE%9E%E4%BE%8B">提取子字符串实例</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E6%9F%A5%E6%89%BE%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AE%9E%E4%BE%8B">查找子字符串实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#shell-%E6%95%B0%E7%BB%84">Shell 数组</a>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84">定义数组</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E8%AF%BB%E5%8F%96%E6%95%B0%E7%BB%84">读取数组</a></li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6%E5%AE%9E%E4%BE%8B">获取数组的长度实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#shell-%E6%B3%A8%E9%87%8A">Shell 注释</a>
<ul>
<li><a href="Shell/Shell%E5%8F%98%E9%87%8F.html#%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A">多行注释</a></li>
</ul>
</li>
</ul>
<h2 id="变量定义"><a class="header" href="#变量定义">变量定义</a></h2>
<p>在 Shell 编程中，变量是用于存储数据值的名称。</p>
<p>定义变量时，变量名不加美元符号（$，PHP 语言中变量需要），如：</p>
<p><code>your_name="runoob" </code></p>
<p>注意，变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p>
<ul>
<li><strong>只包含字母、数字和下划线：</strong> 变量名可以包含字母（大小写敏感）、数字和下划线 <code>_</code>，不能包含其他特殊字符。</li>
<li><strong>不能以数字开头：</strong> 变量名不能以数字开头，但可以包含数字。</li>
<li><strong>避免使用 Shell 关键字：</strong> 不要使用 Shell 的关键字（例如 if、then、else、fi、for、while 等）作为变量名，以免引起混淆。</li>
<li><strong>使用大写字母表示常量：</strong> 习惯上，常量的变量名通常使用大写字母，例如 PI=3.14。</li>
<li><strong>避免使用特殊符号：</strong> 尽量避免在变量名中使用特殊符号，因为它们可能与 Shell 的语法产生冲突。</li>
<li><strong>避免使用空格：</strong> 变量名中不应该包含空格，因为空格通常用于分隔命令和参数。</li>
</ul>
<p>有效的 Shell 变量名示例如下：</p>
<pre><code class="language-shell">RUNOOB="www.runoob.com"
LD_LIBRARY_PATH="/bin/"
_var="123"
var2="abc"
</code></pre>
<p>无效的变量命名：</p>
<pre><code class="language-shell"># 避免使用 if 作为变量名
if="some_value"
# 避免使用 $ 等特殊符号
variable_with_$=42
?var=123
user*name=runoob
# 避免空格
variable with space="value"
</code></pre>
<p><strong>等号两侧避免使用空格</strong>：</p>
<pre><code class="language-shell"># 正确的赋值
variable_name=value

# 有可能会导致错误
variable_name = value
</code></pre>
<p>除了显式地直接赋值，还可以用语句给变量赋值，如：</p>
<pre><code class="language-shell">for file in `ls /etc`
或
for file in $(ls /etc)
</code></pre>
<p>以上语句将 /etc 下目录的文件名循环出来。</p>
<p>说明：反引号包含的内容是命令</p>
<hr />
<h2 id="变量使用"><a class="header" href="#变量使用">变量使用</a></h2>
<p>使用一个定义过的变量，只要在变量名前面加美元符号 <code>$</code> 即可，如：</p>
<pre><code class="language-shell">your_name="qinjx"
echo &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;yo&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;r&lt;/span&gt;&lt;span class="msupsub"&gt;&lt;span class="vlist-t vlist-t2"&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.1514em;"&gt;&lt;span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"&gt;&lt;span class="pstrut" style="height:2.7em;"&gt;&lt;/span&gt;&lt;span class="sizing reset-size6 size3 mtight"&gt;&lt;span class="mord mathnormal mtight"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-s"&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.15em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;am&lt;/span&gt;&lt;span class="mord mathnormal"&gt;eec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;{your_name}
</code></pre>
<p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p>
<pre><code class="language-shell">for skill in Ada Coffe Action Java; do
    echo "I am good at &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ki&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.05764em;"&gt;S&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;cr&lt;/span&gt;&lt;span class="mord mathnormal"&gt;i&lt;/span&gt;&lt;span class="mord mathnormal"&gt;pt&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;d&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord"&gt;‘‘‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;如果不给&lt;/span&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ki&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;变量加花括号，写成&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.07847em;"&gt;I&lt;/span&gt;&lt;span class="mord mathnormal"&gt;am&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;oo&lt;/span&gt;&lt;span class="mord mathnormal"&gt;d&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;skillScript"`，解释器就会把`&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ki&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.05764em;"&gt;llS&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;cr&lt;/span&gt;&lt;span class="mord mathnormal"&gt;i&lt;/span&gt;&lt;span class="mord mathnormal"&gt;pt&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;当成一个变量（其值为空），代码执行结果就不是我们期望的样子了。推荐给所有变量加上花括号，这是个好的编程习惯。已定义的变量，可以被重新定义，如：&lt;/span&gt;&lt;span class="mord"&gt;‘‘‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;span class="mord mathnormal"&gt;yo&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;r&lt;/span&gt;&lt;span class="msupsub"&gt;&lt;span class="vlist-t vlist-t2"&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.1514em;"&gt;&lt;span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"&gt;&lt;span class="pstrut" style="height:2.7em;"&gt;&lt;/span&gt;&lt;span class="sizing reset-size6 size3 mtight"&gt;&lt;span class="mord mathnormal mtight"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-s"&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.15em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;am&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord mathnormal"&gt;m&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;your_name
your_name="alibaba"
echo &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;yo&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;r&lt;/span&gt;&lt;span class="msupsub"&gt;&lt;span class="vlist-t vlist-t2"&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.1514em;"&gt;&lt;span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"&gt;&lt;span class="pstrut" style="height:2.7em;"&gt;&lt;/span&gt;&lt;span class="sizing reset-size6 size3 mtight"&gt;&lt;span class="mord mathnormal mtight"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-s"&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.15em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;am&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord"&gt;‘‘‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;这样写是合法的，但注意，第二次赋值的时候不能写&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;your_name="alibaba"`，使用变量的时候才加美元符（`$`）。

## 只读变量

使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。

下面的例子尝试更改只读变量，结果报错：

```shell
#!/bin/bash

myUrl="https://www.google.com"
readonly myUrl
myUrl="https://www.runoob.com"
</code></pre>
<p>运行脚本，结果如下：</p>
<p><code>/bin/sh: NAME: This variable is read only.</code></p>
<h3 id="变量删除"><a class="header" href="#变量删除">变量删除</a></h3>
<p>使用 unset 命令可以删除变量。语法：</p>
<p><code>unset variable_name</code></p>
<p>变量被删除后不能再次使用。unset 命令不能删除只读变量。</p>
<pre><code class="language-shell">#!/bin/sh

myUrl="https://www.runoob.com"
unset myUrl
echo $myUrl
</code></pre>
<p>以上实例执行将没有任何输出。</p>
<h2 id="变量类型"><a class="header" href="#变量类型">变量类型</a></h2>
<p>Shell 支持不同类型的变量，其中一些主要的类型包括：</p>
<h3 id="字符串变量"><a class="header" href="#字符串变量"><strong>字符串变量：</strong> </a></h3>
<p>在 Shell 中，变量通常被视为字符串。</p>
<p>你可以使用单引号 ' 或双引号 " 来定义字符串，例如：</p>
<pre><code class="language-shell">my_string='Hello, World!'

或者

my_string="Hello, World!"
</code></pre>
<h3 id="整数变量"><a class="header" href="#整数变量"><strong>整数变量</strong>：</a></h3>
<p>在一些 Shell 中，你可以使用 <strong>declare</strong> 或 <strong>typeset</strong> 命令来声明整数变量。</p>
<p>这样的变量只包含整数值，例如：</p>
<pre><code class="language-shell">declare -i my_integer=42
</code></pre>
<p>这样的声明告诉 Shell 将 my_integer 视为整数，如果尝试将非整数值赋给它，Shell 会尝试将其转换为整数。</p>
<h3 id="数组变量"><a class="header" href="#数组变量"><strong>数组变量：</strong> </a></h3>
<p>Shell 也支持数组，允许你在一个变量中存储多个值。</p>
<p>数组可以是整数索引数组或关联数组，以下是一个简单的整数索引数组的例子：</p>
<pre><code class="language-shell">my_array=(1 2 3 4 5)
</code></pre>
<p>或者关联数组：</p>
<pre><code class="language-shell">declare -A associative_array
associative_array ["name"]="John"
associative_array ["age"]=30
</code></pre>
<h3 id="环境变量"><a class="header" href="#环境变量"><strong>环境变量：</strong> </a></h3>
<p>这些是由操作系统或用户设置的特殊变量，用于配置 Shell 的行为和影响其执行环境。</p>
<p>例如，PATH 变量包含了操作系统搜索可执行文件的路径：</p>
<pre><code class="language-shell">echo $PATH
</code></pre>
<p>设置环境变量</p>
<pre><code class="language-shell">export 变量名 = 变量值
</code></pre>
<p>功能描述：将 shell 变量输出为环境变量 / 全局变量</p>
<pre><code class="language-shell">source 配置文件
</code></pre>
<p>功能描述：让修改后的配置信息立即生效</p>
<p>在 <code>/etc/profile</code> 文件中定义 <code>TOMCAT_HOME</code> 环境变量查看环境变量 <code>TOMCAT_HOME</code> 的值</p>
<p>在另外一个 shelI 程序中使用 <code>TOMCAT_HOME</code></p>
<p>注意：在输出 <code>TOMCAT_HOME</code> 环境变量前，需要让其生效 <code>source /etc/profile</code></p>
<h3 id="特殊变量"><a class="header" href="#特殊变量"><strong>特殊变量：</strong></a></h3>
<p><code>$#</code> 表示传递给脚本的参数数量，<code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mclose"&gt;?&lt;/span&gt;&lt;span class="mord"&gt;‘ &lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;表示上一个命令的退出状态等。&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;（功能描述：当前进程的进程号（&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.13889em;"&gt;P&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.07847em;"&gt;I&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;D&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;））&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;!</code>（功能描述：后台运行的最后一个进程的进程号（PID））
<code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mclose"&gt;?&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;（功能描述：最后一次执行的命令的返回状态。如果这个变量的值为&lt;/span&gt;&lt;span class="mord"&gt;0&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;，证明上一个命令正确执行；如果这个变量的值为非&lt;/span&gt;&lt;span class="mord"&gt;0&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）位置参数变量当我们执行一个&lt;/span&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量有一些特殊变量在&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.05764em;"&gt;S&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;中具有特殊含义，例如&lt;/span&gt;&lt;span class="mord"&gt; ‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;0</code> 表示脚本的名称，<code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;1‘&lt;/span&gt;&lt;span class="mpunct"&gt;,&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.1667em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt; ‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;2</code>, 等表示脚本的参数。</p>
<p>比如：<code>./myshell.sh 100 200</code>，这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息</p>
<p><code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;（功能描述：&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;为数字，&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;0</code> 代表命令本身，<code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;1&lt;/span&gt;&lt;span class="mord"&gt;−&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;9</code> 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如 <code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord"&gt;10&lt;/span&gt;&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;）&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;*</code>（功能描述：这个变量代表命令行中所有的参数，<code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;∗&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;把所有的参数看成一个整体）&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;@</code>（功能描述：这个变量也代表命令行中所有的参数，不过 <code>&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;@‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;把每个参数区分对待）&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;#</code>（功能描述：这个变量代表命令行中所有参数的个数）</p>
<hr />
<h2 id="shell-字符串"><a class="header" href="#shell-字符串">Shell 字符串</a></h2>
<p>字符串是 shell 编程中最常用最有用的数据类型（除了数字和字符串，也没啥其它类型好用了），字符串可以用单引号，也可以用双引号，也可以不用引号。</p>
<h3 id="单引号"><a class="header" href="#单引号">单引号</a></h3>
<p><code>str='this is a string'</code></p>
<p>单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li>
<li>单引号字符串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
<h3 id="双引号"><a class="header" href="#双引号">双引号</a></h3>
<pre><code class="language-shell">your_name="runoob"  
str="Hello, I know you are \"$your_name\"! \n"  
echo -e $str  
</code></pre>
<p>输出结果为：</p>
<p><code>Hello, I know you are"runoob"!</code></p>
<p>双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
<h3 id="拼接字符串实例"><a class="header" href="#拼接字符串实例">拼接字符串实例</a></h3>
<pre><code class="language-shell">your_name="runoob"
# 使用双引号拼接
greeting="hello,"$your_name"!"
greeting_1="hello, ${your_name} !"
echo $greeting  $greeting_1

# 使用单引号拼接
greeting_2='hello, '$your_name' !'
greeting_3='hello, ${your_name} !'
echo $greeting_2  $greeting_3
</code></pre>
<p>输出结果为：</p>
<pre><code>hello, runoob ! hello, runoob !
hello, runoob ! hello, ${your_name} !
</code></pre>
<h3 id="获取字符串长度实例"><a class="header" href="#获取字符串长度实例">获取字符串长度实例</a></h3>
<pre><code class="language-shell">string="abcd"  
echo ${#string}   # 输出 4  
</code></pre>
<p>变量为字符串时，<code>${#string}</code> 等价于 <code>${#string [0]}</code>:</p>
<pre><code class="language-shell">string="abcd"
echo ${#string [0]}   # 输出 4
</code></pre>
<h3 id="提取子字符串实例"><a class="header" href="#提取子字符串实例">提取子字符串实例</a></h3>
<p>以下实例从字符串第 <strong>2</strong> 个字符开始截取 <strong>4</strong> 个字符：</p>
<pre><code class="language-shell">string="runoob is a great site"
echo ${string:1:4} # 输出 unoo
</code></pre>
<p><strong>注意</strong>：第一个字符的索引值为 <strong>0</strong>。</p>
<h3 id="查找子字符串实例"><a class="header" href="#查找子字符串实例">查找子字符串实例</a></h3>
<p>查找字符 <strong>i</strong> 或 <strong>o</strong> 的位置 (哪个字母先出现就计算哪个)：</p>
<pre><code class="language-shell">string="runoob is a great site"
echo `expr index"$string"io`  # 输出 4
</code></pre>
<p><strong>注意：</strong> 以上脚本中 ` 是反引号，而不是单引号 '，不要看错了哦。</p>
<p>注意：这里的位置是从 1 开始计算的</p>
<hr />
<h2 id="shell-数组"><a class="header" href="#shell-数组">Shell 数组</a></h2>
<p>bash 支持一维数组（不支持多维数组），并且没有限定数组的大小。</p>
<p>类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p>
<h3 id="定义数组"><a class="header" href="#定义数组">定义数组</a></h3>
<p>在 Shell 中，用括号来表示数组，数组元素用 "空格" 符号分割开。定义数组的一般形式为：</p>
<pre><code>数组名 =(值 1 值 2 ... 值 n)
</code></pre>
<p>例如：</p>
<pre><code class="language-shell">array_name=(value0 value1 value2 value3)
</code></pre>
<p>或者</p>
<pre><code>array_name=(
value0
value1
value2
value3
)
</code></pre>
<p>还可以单独定义数组的各个分量：</p>
<pre><code>array_name [0]=value0
array_name [1]=value1
array_name [n]=valuen
</code></pre>
<p>可以不使用连续的下标，而且下标的范围没有限制。</p>
<h3 id="读取数组"><a class="header" href="#读取数组">读取数组</a></h3>
<p>读取数组元素值的一般格式是：</p>
<pre><code>${数组名 [下标]}
</code></pre>
<p>例如：</p>
<pre><code class="language-shell">valuen=&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;rr&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord"&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;y&lt;/span&gt;&lt;span class="msupsub"&gt;&lt;span class="vlist-t vlist-t2"&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.1514em;"&gt;&lt;span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"&gt;&lt;span class="pstrut" style="height:2.7em;"&gt;&lt;/span&gt;&lt;span class="sizing reset-size6 size3 mtight"&gt;&lt;span class="mord mathnormal mtight"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-s"&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class="vlist-r"&gt;&lt;span class="vlist" style="height:0.15em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;am&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mopen"&gt;[&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mclose"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;span class="mord"&gt;‘‘‘&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;使用&lt;/span&gt;&lt;span class="mord"&gt; @ &lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;符号可以获取数组中的所有元素，例如：&lt;/span&gt;&lt;span class="mord"&gt;‘‘‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;s&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;ll&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;{array_name [@]}
</code></pre>
<p>注意：不连续的情况</p>
<pre><code class="language-shell">#!/bin/sh
array_name [0]=value0
array_name [1]=value1
array_name [n]=valuen
echo ${array_name [@]}
</code></pre>
<p>输出结果如下：</p>
<pre><code>valuen value1
</code></pre>
<p>在 Bash 中，声明数组时如果不显式地指定下标，则索引从 0 开始递增，直到数组的最后一个元素。在你的示例中，使用了不连续的下标赋值，导致数组中间的元素没有被赋值。实际上，你定义了一个包含索引 0 和 1 的数组，以及一个名为 n 的索引元素。</p>
<p>注意：连续的情况</p>
<pre><code class="language-shell">#!/bin/sh
array_name [0]=value0
array_name [1]=value1
array_name [2]=valuen
echo ${array_name [@]}
</code></pre>
<p>输出结果如下：</p>
<pre><code>value0 value1 valuen
</code></pre>
<p>此时数组 <code>array_name</code> 实际上包含 3 个元素：</p>
<ul>
<li>array_name [0] = value0</li>
<li>array_name [1] = value1</li>
<li>array_name [2] = valuen</li>
</ul>
<p>因为使用 <code>${array_name [@]}</code> 是按顺序输出数组的所有元素，所以输出结果是 <code>value0 value1 valuen</code>。</p>
<h3 id="获取数组的长度实例"><a class="header" href="#获取数组的长度实例">获取数组的长度实例</a></h3>
<p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p>
<pre><code class="language-shell"># 取得数组元素的个数
length=${#array_name [@]}
# 或者
length=${#array_name [*]}
# 取得数组单个元素的长度
length=${#array_name [n]}
</code></pre>
<hr />
<h2 id="shell-注释"><a class="header" href="#shell-注释">Shell 注释</a></h2>
<p>以 <code>#</code> 开头的行就是注释，会被解释器忽略。</p>
<p>通过每一行加一个 <strong>#</strong> 号设置多行注释，像这样：</p>
<pre><code class="language-shell">#--------------------------------------------
# 这是一个注释
# author：菜鸟教程
# site：www.runoob.com
# slogan：学的不仅是技术，更是梦想！
#--------------------------------------------
##### 用户配置区 开始 #####
#
#
# 这里可以添加脚本描述信息
# 
#
##### 用户配置区 结束  #####
</code></pre>
<p>如果在开发过程中，遇到大段的代码需要临时注释起来，过一会儿又取消注释，怎么办呢？</p>
<p>每一行加个 #符号太费力了，可以把这一段要注释的代码用一对花括号括起来，定义成一个函数，没有地方调用这个函数，这块代码就不会执行，达到了和注释一样的效果。</p>
<h3 id="多行注释"><a class="header" href="#多行注释">多行注释</a></h3>
<p><strong>使用 Here 文档</strong></p>
<p>多行注释还可以使用以下格式：</p>
<pre><code class="language-shell">:&lt;&lt;EOF
注释内容...
注释内容...
注释内容...
EOF
</code></pre>
<p>以上例子中，: 是一个空命令，用于执行后面的 Here 文档，&lt;&lt;'EOF' 表示开启 Here 文档，COMMENT 是 Here 文档的标识符，在这两个标识符之间的内容都会被视为注释，不会被执行。</p>
<p>EOF 也可以使用其他符号:</p>
<pre><code class="language-shell">: &lt;&lt;'COMMENT'
这是注释的部分。
可以有多行内容。
COMMENT

:&lt;&lt;'
注释内容...
注释内容...
注释内容...
'

:&lt;&lt;!
注释内容...
注释内容...
注释内容...
!
</code></pre>
<p><strong>直接使用：号</strong></p>
<p>我们也可以使用了冒号 : 命令，并用单引号 ' 将多行内容括起来。由于冒号是一个空命令，这些内容不会被执行。</p>
<p>格式为：: + 空格 + 单引号。</p>
<pre><code class="language-shell">: '
这是注释的部分。
可以有多行内容。
'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-传递参数"><a class="header" href="#shell-传递参数">Shell 传递参数</a></h1>
<ul>
<li><a href="Shell/Shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.html#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0">位置参数</a></li>
<li><a href="Shell/Shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.html#%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E5%AE%9E%E4%BE%8B">传递参数实例</a></li>
<li><a href="Shell/Shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.html#%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86%E5%AE%9E%E4%BE%8B">参数处理实例</a></li>
<li><a href="Shell/Shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.html#-%E4%B8%8E--%E5%8C%BA%E5%88%AB%E5%AE%9E%E4%BE%8B"><code>$*</code> 与 <code>$@</code> 区别实例</a></li>
</ul>
<h2 id="位置参数"><a class="header" href="#位置参数">位置参数</a></h2>
<p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">，</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord">∗</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord"> </span><span class="mord cjk_fallback">代表一个数字，</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">∗</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord"> </span><span class="mord cjk_fallback">为执行脚本的第一个参数，</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">∗</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord"> </span><span class="mord cjk_fallback">为执行脚本的第二个参数。例如可以使用</span><span class="mord"> </span></span></span></span>1、<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2 </span><span class="mord cjk_fallback">等来引用传递给脚本的参数，其中</span><span class="mord"> </span></span></span></span>1 表示第一个参数，$2 表示第二个参数，依此类推。</p>
<h2 id="传递参数实例"><a class="header" href="#传递参数实例">传递参数实例</a></h2>
<p>以下实例我们向脚本传递三个参数，并分别输出，其中 <strong>$0</strong> 为执行的文件名（包含文件路径）：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

echo "Shell 传递参数实例！";
echo "执行的文件名：$0";
echo "第一个参数为：$1";
echo "第二个参数为：$2";
echo "第三个参数为：$3";
</code></pre>
<p>为脚本设置可执行权限，并执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh 1 2 3
Shell 传递参数实例！
执行的文件名：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</code></pre>
<p>另外，还有几个特殊字符用来处理参数：</p>
<div class="table-wrapper"><table><thead><tr><th>参数处理</th><th>说明</th></tr></thead><tbody>
<tr><td>$#</td><td>传递到脚本的参数个数</td></tr>
<tr><td>$*</td><td>以一个单字符串显示所有向脚本传递的参数。  <br> 如 "<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">∗</span><span class="mord">"</span><span class="mord cjk_fallback">用「</span><span class="mord">"</span><span class="mord cjk_fallback">」括起来的情况、以</span><span class="mord">"</span></span></span></span>1 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">…</span></span></span></span>n" 的形式输出所有参数。</td></tr>
<tr><td>$$</td><td>脚本运行的当前进程 ID 号</td></tr>
<tr><td>$!</td><td>后台运行的最后一个进程的 ID 号</td></tr>
<tr><td>$@</td><td>与 <code>$*</code> 相同，但是使用时加引号，并在引号中返回每个参数。  <br > 如 "<code>$@</code>" 用「"」括起来的情况、以"<code>$1</code>""<code>$2</code>"…"<code>$n</code>" 的形式输出所有参数。</td></tr>
<tr><td>$-</td><td>显示 Shell 使用的当前选项，与 <a href="https://www.runoob.com/linux/linux-comm-set.html">set 命令</a> 功能相同。</td></tr>
<tr><td>$?</td><td>显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误。</td></tr>
</tbody></table>
</div>
<h2 id="参数处理实例"><a class="header" href="#参数处理实例">参数处理实例</a></h2>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

echo "Shell 传递参数实例！";
echo "第一个参数为：$1";

echo "参数个数为：$#";
echo "传递的参数作为一个字符串显示：$*";
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh 1 2 3
Shell 传递参数实例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 2 3
</code></pre>
<h2 id="-与--区别实例"><a class="header" href="#-与--区别实例"><code>$*</code> 与 <code>$@</code> 区别实例</a></h2>
<p><code>$*</code> 与 <code>$@</code> 区别：</p>
<ul>
<li>相同点：都是引用所有参数。</li>
<li>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，则 "*" 等价于 "1 2 3"（传递了一个参数），而 "@" 等价于 "1" "2" "3"（传递了三个参数）。</li>
</ul>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

echo "-- \$* 演示 ---"
for i in "$*"; do
    echo $i
done

echo "-- \$@ 演示 ---"
for i in "$@"; do
    echo $i
done
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh 1 2 3
-- $* 演示 ---
1 2 3
-- $@ 演示 ---
1
2
3
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-数组-1"><a class="header" href="#shell-数组-1">Shell 数组</a></h1>
<ul>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84">创建数组</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E8%AF%BB%E5%8F%96%E6%95%B0%E7%BB%84">读取数组</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84%E5%AD%97%E5%85%B8">关联数组（字典）</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E7%B4%A2%E5%BC%95%E6%95%B0%E7%BB%84">索引数组</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0">获取数组中的所有元素</a>
<ul>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E6%99%AE%E9%80%9A%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B">普通数组实例</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84%E5%AE%9E%E4%BE%8B">关联数组实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6">获取数组的长度</a></li>
<li><a href="Shell/Shell%E6%95%B0%E7%BB%84.html#%E9%99%84%E5%BD%95%E5%AE%89%E8%A3%85-bash-completion">附录安装 bash-completion</a></li>
</ul>
<p>数组中可以存放多个值。Bash Shell 只支持一维数组（不支持多维数组），初始化时不需要定义数组大小（与 PHP 类似）。</p>
<p>与大部分编程语言类似，数组元素的下标由 0 开始。</p>
<p>Shell 数组用括号来表示，元素用 "空格" 符号分割开，语法格式如下：</p>
<p><code>array_name=(value1 value2 ... valuen)</code></p>
<h2 id="创建数组"><a class="header" href="#创建数组">创建数组</a></h2>
<p>创建一个简单的数组 <strong>my_array</strong>：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

my_array=(A B "C" D)
</code></pre>
<p>我们也可以使用数字下标来定义数组:</p>
<pre><code class="language-shell">array_name [0]=value0  
array_name [1]=value1  
array_name [2]=value2  
</code></pre>
<h2 id="读取数组-1"><a class="header" href="#读取数组-1">读取数组</a></h2>
<p>读取数组元素值的一般格式是：</p>
<pre><code class="language-shell">${array_name [index]}
</code></pre>
<p>以下实例通过数字索引读取数组元素：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

my_array=(A B "C" D)

echo "第一个元素为: ${my_array [0]}"
echo "第二个元素为: ${my_array [1]}"
echo "第三个元素为: ${my_array [2]}"
echo "第四个元素为: ${my_array [3]}"
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh
第一个元素为: A
第二个元素为: B
第三个元素为: C
第四个元素为: D
</code></pre>
<h2 id="关联数组字典"><a class="header" href="#关联数组字典">关联数组（字典）</a></h2>
<p>Bash 支持关联数组，可以使用任意的字符串、或者整数作为下标来访问数组元素。</p>
<p>关联数组使用 <a href="https://www.runoob.com/linux/linux-comm-declare.html">declare</a> 命令来声明，语法格式如下：</p>
<pre><code>declare -A array_name
</code></pre>
<p><strong>-A</strong> 选项就是用于声明一个关联数组。</p>
<p>关联数组的键是唯一的。</p>
<p>以下实例我们创建一个关联数组 <strong>site</strong>，并创建不同的键值：</p>
<pre><code class="language-shell">declare -A site=(["google"]="www.google.com" ["runoob"]="www.runoob.com" ["taobao"]="www.taobao.com")  
</code></pre>
<p>我们也可以先声明一个关联数组，然后再设置键和值：</p>
<pre><code class="language-shell">declare -A site  
site ["google"]="www.google.com"  
site ["runoob"]="www.runoob.com"  
site ["taobao"]="www.taobao.com"  
</code></pre>
<p>也可以在定义的同时赋值：</p>
<p>访问关联数组元素可以使用指定的键，格式如下：</p>
<pre><code>array_name ["index"]
</code></pre>
<p>以下实例我们通过键来访问关联数组的元素：</p>
<pre><code class="language-shell">declare -A site
site ["google"]="www.google.com"
site ["runoob"]="www.runoob.com"
site ["taobao"]="www.taobao.com"

echo ${site ["runoob"]}
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>www.runoob.com
</code></pre>
<h2 id="索引数组"><a class="header" href="#索引数组">索引数组</a></h2>
<p>在 Bash 中，使用 <code>declare -A</code> 来定义关联数组是正确的做法，并且通常是支持的。因此出现 <code>declare not found</code> 的问题可能是由于你的系统或 Shell 环境中没有支持这个方面的功能导致的。</p>
<p>为了解决这个问题，你可以尝试使用 <code>declare</code> 的另一种方式来定义关联数组。你可以将 <code>declare -A</code> 替换成 <code>declare -a</code>，这样可以定义一个普通的索引数组。虽然这不是关联数组，但你可以通过其他方式来实现类似的功能。</p>
<p>修改后的代码如下所示：</p>
<pre><code class="language-shell">declare -a site
site [0]="google=www.google.com"
site [1]="runoob=www.runoob.com"
site [2]="taobao=www.taobao.com"

echo ${site [1]}
</code></pre>
<p>请注意，使用 <code>declare -a</code> 定义的数组是索引数组，并不是关联数组。因此在访问数组元素时，需要使用索引来进行访问。以上代码应该可以正常输出 <code>www.runoob.com</code>。</p>
<h2 id="获取数组中的所有元素"><a class="header" href="#获取数组中的所有元素">获取数组中的所有元素</a></h2>
<p>使用 @ 或 * 可以获取数组中的所有元素</p>
<h3 id="普通数组实例"><a class="header" href="#普通数组实例">普通数组实例</a></h3>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

my_array [0]=A
my_array [1]=B
my_array [2]=C
my_array [3]=D

echo "数组的元素为: ${my_array [*]}"
echo "数组的元素为: ${my_array [@]}"
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh
数组的元素为: A B C D
数组的元素为: A B C D
</code></pre>
<h3 id="关联数组实例"><a class="header" href="#关联数组实例">关联数组实例</a></h3>
<pre><code class="language-shell">declare -A site
site ["google"]="www.google.com"
site ["runoob"]="www.runoob.com"
site ["taobao"]="www.taobao.com"

echo "数组的元素为: ${site [*]}"
echo "数组的元素为: ${site [@]}"
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh
数组的元素为: www.google.com www.runoob.com www.taobao.com
数组的元素为: www.google.com www.runoob.com www.taobao.com
</code></pre>
<p>在数组前加一个感叹号 ! 可以获取数组的所有键，例如：</p>
<pre><code class="language-shell">declare -A site  
site ["google"]="www.google.com"  
site ["runoob"]="www.runoob.com"  
site ["taobao"]="www.taobao.com"  
  
echo "数组的键为: ${!site [*]}"  
echo "数组的键为: ${!site [@]}"  
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>数组的键为: google runoob taobao
数组的键为: google runoob taobao
</code></pre>
<h2 id="获取数组的长度"><a class="header" href="#获取数组的长度">获取数组的长度</a></h2>
<p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

my_array [0]=A
my_array [1]=B
my_array [2]=C
my_array [3]=D

echo "数组元素个数为: ${#my_array [*]}"
echo "数组元素个数为: ${#my_array [@]}"
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>$ chmod +x test.sh 
$ ./test.sh
数组元素个数为: 4
数组元素个数为: 4
</code></pre>
<h2 id="附录安装-bash-completion"><a class="header" href="#附录安装-bash-completion">附录安装 bash-completion</a></h2>
<p>Ubuntu 22.04LTS 默认带有 bash-completion。</p>
<p>在 Ubuntu 系统中，可能是由于没有安装 bash-completion 包导致无法使用 declare 命令。要解决这个问题，可以通过以下步骤安装 bash-completion 包：</p>
<ol>
<li>打开终端（Terminal）。</li>
<li>运行以下命令安装 bash-completion 包：</li>
</ol>
<pre><code>sudo apt-get update
sudo apt-get install bash-completion
</code></pre>
<ol start="3">
<li>安装完成后，重新打开终端，并尝试使用 declare 命令来定义关联数组。</li>
</ol>
<p>通过以上步骤，你应该可以解决 declare not found 错误，并成功使用关联数组。如果问题仍然存在，请尝试重新启动系统并重复以上步骤。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-运算符"><a class="header" href="#shell-运算符">Shell 运算符</a></h1>
<ul>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%AE%80%E4%BB%8B">运算符简介</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6">算术运算符</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E4%B8%89%E7%A7%8D%E6%B1%82%E5%80%BC%E6%96%B9%E5%BC%8F">三种求值方式</a>
<ul>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E8%A1%A8%E8%BE%BE%E5%BC%8F">$((表达式))</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E8%A1%A8%E8%BE%BE%E5%BC%8F-1"><code>$[表达式]</code></a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#expr-%E7%AE%80%E5%8D%95%E5%8A%A0%E6%B3%95%E5%AE%9E%E4%BE%8B">expr 简单加法实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E8%87%AA%E5%A2%9E%E5%92%8C%E8%87%AA%E5%87%8F%E6%93%8D%E4%BD%9C%E7%AC%A6">自增和自减操作符</a>
<ul>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E4%BD%BF%E7%94%A8-let-%E5%91%BD%E4%BB%A4">使用 let 命令</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E4%BD%BF%E7%94%A8---%E8%BF%9B%E8%A1%8C%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97">使用 $(( )) 进行算术运算</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E4%BD%BF%E7%94%A8-expr-%E5%91%BD%E4%BB%A4">使用 expr 命令</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E4%BD%BF%E7%94%A8---%E8%BF%9B%E8%A1%8C%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97-1">使用 (( )) 进行算术运算</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6">关系运算符</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6">布尔运算符</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">逻辑运算符</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E9%99%84%E5%BD%95%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%85%B3%E7%B3%BB">附录布尔运算符和逻辑运算符的关系</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6">字符串运算符</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6">文件测试运算符</a>
<ul>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E6%96%87%E4%BB%B6%E6%A3%80%E6%B5%8B%E5%AE%9E%E4%BE%8B">文件检测实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#shell-test-%E5%91%BD%E4%BB%A4">Shell test 命令</a>
<ul>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E6%95%B0%E5%80%BC%E6%B5%8B%E8%AF%95">数值测试</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95">字符串测试</a></li>
<li><a href="Shell/Shell%E8%BF%90%E7%AE%97%E7%AC%A6.html#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95">文件测试</a></li>
</ul>
</li>
</ul>
<h2 id="运算符简介"><a class="header" href="#运算符简介">运算符简介</a></h2>
<p>Shell 和其他编程语言一样，支持多种运算符，包括：</p>
<ul>
<li>算术运算符</li>
<li>关系运算符</li>
<li>布尔运算符</li>
<li>字符串运算符</li>
<li>文件测试运算符</li>
</ul>
<p>原生 bash 不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p>
<p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p>
<p>例如，两个数相加 (<strong>注意使用的是反引号 ` 而不是单引号 '</strong>)：</p>
<h2 id="算术运算符"><a class="header" href="#算术运算符">算术运算符</a></h2>
<p>下表列出了常用的算术运算符，假定变量 a 为 10，变量 b 为 20：</p>
<div class="table-wrapper"><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>+</td><td>加法</td><td><code>expr $a + $b</code> 结果为 30。</td></tr>
<tr><td>-</td><td>减法</td><td><code>expr $a - $b</code> 结果为 -10。</td></tr>
<tr><td>*</td><td>乘法</td><td><code>expr $a \* $b</code> 结果为  200。</td></tr>
<tr><td>/</td><td>除法</td><td><code>expr $b / $a</code> 结果为 2。</td></tr>
<tr><td>%</td><td>取余</td><td><code>expr $b % $a</code> 结果为 0。</td></tr>
<tr><td>=</td><td>赋值</td><td>a=<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord cjk_fallback">把变量</span><span class="mord mathnormal">b</span><span class="mord cjk_fallback">的值赋给</span><span class="mord mathnormal">a</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord cjk_fallback">相等。用于比较两个数字，相同则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span></span></span></span>a == <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord cjk_fallback">不相等。用于比较两个数字，不相同则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span></span></span></span>a != <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord cjk_fallback">注意：</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord cjk_fallback">条件表达式要放在方括号之间，并且要有空格，例如</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord"> </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∗</span><span class="mord">‘</span><span class="mopen">[</span></span></span></span>a==<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span><span class="mord">‘</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">∗</span><span class="mord"> </span><span class="mord cjk_fallback">是错误的，必须写成</span><span class="mord"> </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∗</span><span class="mord">‘</span><span class="mopen">[</span></span></span></span>a == $b ]`**。</td></tr>
</tbody></table>
</div>
<p>算术运算符实例如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

a=10
b=20

val=`expr $a + &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;b&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;+&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;b&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;val"

val=`expr $a - $b`
echo "a - b : &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;v&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;v&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal"&gt;x&lt;/span&gt;&lt;span class="mord mathnormal"&gt;p&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;r&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a \* &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;b&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;∗&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;b&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;val"

val=`expr $b / $a`
echo "b /a : &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;v&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;v&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal"&gt;x&lt;/span&gt;&lt;span class="mord mathnormal"&gt;p&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.02778em;"&gt;r&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b % &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord"&gt;‘&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;val"

if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;==&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "a 等于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "a 不等于 b"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>a + b : 30
a - b : -10
a * b : 200
b /a : 2
b % a : 0
a 不等于 b
</code></pre>
<blockquote>
<p><strong>注意：</strong></p>
<ul>
<li>乘号 (*) 前边必须加反斜杠 () 才能实现乘法运算；</li>
<li>if...then...fi 是条件语句，后续将会讲解。</li>
<li>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 "*" 不需要转义符号 "\" 。</li>
</ul>
</blockquote>
<h2 id="三种求值方式"><a class="header" href="#三种求值方式">三种求值方式</a></h2>
<h3 id="表达式"><a class="header" href="#表达式"><strong>$((表达式))</strong></a></h3>
<p>在 MAC 中 shell 的 expr 语法是：<strong>$((表达式))</strong>，此处表达式中的 "*" 不需要转义符号 "\" 。</p>
<p>例如计算（2+3）x 4 的值：</p>
<p><code>$(((2+3)*4))</code></p>
<h3 id="表达式-1"><a class="header" href="#表达式-1"><strong><code>$[表达式]</code></strong></a></h3>
<p>例 1：计算（2+3）x 4 的值：</p>
<p>推荐使用 <code>$[(2+3)*4]</code></p>
<p>例 2：求出命令行的两个参数【整数】的和</p>
<p><code>$[$1 + $2]</code></p>
<h3 id="expr-简单加法实例"><a class="header" href="#expr-简单加法实例">expr 简单加法实例</a></h3>
<pre><code class="language-shell">#!/bin/bash  
  
val=`expr 2 + 2`  
echo "两数之和为 : $val"  
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>两数之和为 : 4
</code></pre>
<p>注意：</p>
<ul>
<li>表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。</li>
<li>完整的表达式要被 `` 包含，注意这个字符不是常用的单引号，在 Esc 键下边。</li>
</ul>
<hr />
<h2 id="自增和自减操作符"><a class="header" href="#自增和自减操作符">自增和自减操作符</a></h2>
<p>尽管 Shell 本身没有像 C、C++ 或 Java 那样的 ++ 和 -- 操作符，但可以通过其他方式实现相同的功能。以下是一些常见的方法：</p>
<h3 id="使用-let-命令"><a class="header" href="#使用-let-命令">使用 let 命令</a></h3>
<p>let 命令允许对整数进行算术运算。</p>
<pre><code class="language-shell">#!/bin/bash

# 初始化变量
num=5

# 自增
let num++

# 自减
let num--

echo $num
</code></pre>
<h3 id="使用---进行算术运算"><a class="header" href="#使用---进行算术运算">使用 $(( )) 进行算术运算</a></h3>
<p>$(( )) 语法也是进行算术运算的一种方式。</p>
<pre><code class="language-shell">#!/bin/bash

# 初始化变量
num=5

# 自增
num=$((num + 1))

# 自减
num=$((num - 1))

echo $num
</code></pre>
<h3 id="使用-expr-命令"><a class="header" href="#使用-expr-命令">使用 expr 命令</a></h3>
<p>expr 命令可以用于算术运算，但不如 <strong>let</strong> 和 <strong>$(( ))</strong> 常用。</p>
<pre><code class="language-shell">#!/bin/bash

# 初始化变量
num=5

# 自增
num=$(expr $num + 1)

# 自减
num=$(expr $num - 1)

echo $num
</code></pre>
<h3 id="使用---进行算术运算-1"><a class="header" href="#使用---进行算术运算-1">使用 (( )) 进行算术运算</a></h3>
<p>与 $(( )) 类似，(( )) 语法也可以用于算术运算。</p>
<pre><code class="language-shell">#!/bin/bash

# 初始化变量
num=5

# 自增
((num++))

# 自减
((num--))

echo $num
</code></pre>
<hr />
<h2 id="关系运算符"><a class="header" href="#关系运算符">关系运算符</a></h2>
<p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p>
<p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p>
<div class="table-wrapper"><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>-eq</td><td>检测两个数是否相等，相等返回 true。</td><td>[ $a -eq $b ] 返回 false。</td></tr>
<tr><td>-ne</td><td>检测两个数是否不相等，不相等返回 true。</td><td>[ $a -ne $b ] 返回 true。</td></tr>
<tr><td>-gt</td><td>检测左边的数是否大于右边的，如果是，则返回 true。</td><td>[ $a -gt $b ] 返回 false。</td></tr>
<tr><td>-lt</td><td>检测左边的数是否小于右边的，如果是，则返回 true。</td><td>[ $a -lt $b ] 返回 true。</td></tr>
<tr><td>-ge</td><td>检测左边的数是否大于等于右边的，如果是，则返回 true。</td><td>[ $a -ge $b ] 返回 false。</td></tr>
<tr><td>-le</td><td>检测左边的数是否小于等于右边的，如果是，则返回 true。</td><td>[ $a -le $b ] 返回 true。</td></tr>
</tbody></table>
</div>
<p>关系运算符实例如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

a=10
b=20

if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b : a 等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 不等于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 不等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b : a 等于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 大于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 不大于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 小于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 不小于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 大于或等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.625em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 小于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 小于或等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 大于 b"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>10 -eq 20: a 不等于 b
10 -ne 20: a 不等于 b
10 -gt 20: a 不大于 b
10 -lt 20: a 小于 b
10 -ge 20: a 小于 b
10 -le 20: a 小于或等于 b
</code></pre>
<hr />
<h2 id="布尔运算符"><a class="header" href="#布尔运算符">布尔运算符</a></h2>
<p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p>
<div class="table-wrapper"><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>!</td><td>非运算，表达式为 true 则返回 false，否则返回 true。</td><td>[ ! false ] 返回 true。</td></tr>
<tr><td>-o</td><td>或运算，有一个表达式为 true 则返回 true。</td><td>[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr>
<tr><td>-a</td><td>与运算，两个表达式都为 true 才返回 true。</td><td>[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr>
</tbody></table>
</div>
<p>布尔运算符实例如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

a=10
b=20

if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b : a 不等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;==&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 等于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b -gt 15 ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;且&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 15 : 返回 true"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;且&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 15 : 返回 false"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b -gt 100 ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;或&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 100 : 返回 true"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;100&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;或&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 100 : 返回 false"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;span class="mord"&gt;5&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b -gt 100 ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;5&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;或&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 100 : 返回 true"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;小于&lt;/span&gt;&lt;span class="mord"&gt;5&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;或&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b 大于 100 : 返回 false"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>10 != 20 : a 不等于 b
10 小于 100 且 20 大于 15 : 返回 true
10 小于 100 或 20 大于 100 : 返回 true
10 小于 5 或 20 大于 100 : 返回 false
</code></pre>
<hr />
<h2 id="逻辑运算符"><a class="header" href="#逻辑运算符">逻辑运算符</a></h2>
<p>以下介绍 Shell 的逻辑运算符，假定变量 a 为 10，变量 b 为 20:</p>
<div class="table-wrapper"><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>&amp;&amp;</td><td>逻辑的 AND</td><td><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code> 返回 false</td></tr>
<tr><td>||</td><td>逻辑的 OR</td><td><code>[[ $a -lt 100</code> || <code>$b -gt 100 ]]</code> 返回 true</td></tr>
</tbody></table>
</div>
<p>逻辑运算符实例如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

a=10
b=20

if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]]
then
   echo "返回 true"
else
   echo "返回 false"
fi

if [[ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;span class="mord"&gt;100∣∣&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b -gt 100 ]]
then
   echo "返回 true"
else
   echo "返回 false"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>返回 false
返回 true
</code></pre>
<h2 id="附录布尔运算符和逻辑运算符的关系"><a class="header" href="#附录布尔运算符和逻辑运算符的关系">附录布尔运算符和逻辑运算符的关系</a></h2>
<p>在 <code>bash shell</code> 中，逻辑运算符和布尔运算符其实是同一个概念，主要用来连接两个条件表达式或命令。通常逻辑运算符包括 <code>-o</code>(OR)、<code>-a</code>(AND) 和 <code>!</code>(NOT)，而布尔运算符包括 <code>||</code>（逻辑或）和 <code>&amp;&amp;</code>（逻辑与）。</p>
<p>逻辑运算符和布尔运算符的主要区别在于语法形式和用法上。在 <code>bash shell</code> 中，我们可以使用逻辑运算符和布尔运算符来连接条件表达式或命令，例如：</p>
<ul>
<li>使用逻辑运算符 <code>-o</code> 和 <code>-a</code>，示例如下：</li>
</ul>
<pre><code class="language-bash">if [ "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.03588em;"&gt;g&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;span class="mord"&gt;10&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b" -lt 20 ]; then
    echo "条件成立"
fi
</code></pre>
<ul>
<li>使用布尔运算符 <code>||</code> 和 <code>&amp;&amp;</code>，示例如下：</li>
</ul>
<pre><code class="language-bash">if [ "$a" -gt 10 ] &amp;&amp; [ "$b" -lt 20 ]; then
    echo "条件成立"
fi
</code></pre>
<p>综上所述，逻辑运算符和布尔运算符在 <code>bash shell</code> 中都可以用来连接条件表达式或命令，只是语法形式和用法略有不同。逻辑运算符更常用于 <code>test</code> 表达式中，而布尔运算符更常用于逻辑判断语句中。</p>
<hr />
<h2 id="字符串运算符"><a class="header" href="#字符串运算符">字符串运算符</a></h2>
<p>下表列出了常用的字符串运算符，假定变量 a 为 "abc"，变量 b 为 "efg"：</p>
<div class="table-wrapper"><table><thead><tr><th>运算符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>=</td><td>检测两个字符串是否相等，相等返回 true。</td><td>[ $a = $b ] 返回 false。</td></tr>
<tr><td>!=</td><td>检测两个字符串是否不相等，不相等返回 true。</td><td>[ $a != $b ] 返回 true。</td></tr>
<tr><td>-z</td><td>检测字符串长度是否为 0，为 0 返回 true。</td><td>[ -z $a ] 返回 false。</td></tr>
<tr><td>-n</td><td>检测字符串长度是否不为 0，不为 0 返回 true。</td><td>[ -n "$a" ] 返回 true。</td></tr>
<tr><td>$</td><td>检测字符串是否不为空，不为空返回 true。</td><td>[ $a ] 返回 true。</td></tr>
</tbody></table>
</div>
<p>字符串运算符实例如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

a="abc"
b="efg"

if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b : a 等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 不等于 b"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b ]
then
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b : a 不等于 b"
else
   echo "&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6944em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;!&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;b: a 等于 b"
fi
if [ -z &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;]&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.04398em;"&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a : 字符串长度为 0"
else
   echo "-z &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;:&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;字符串长度不为&lt;/span&gt;&lt;span class="mord"&gt;0&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10764em;"&gt;f&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ii&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10764em;"&gt;f&lt;/span&gt;&lt;span class="mopen"&gt;[&lt;/span&gt;&lt;span class="mord"&gt;−&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a" ]
then
   echo "-n &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;span class="mrel"&gt;:&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2778em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;字符串长度不为&lt;/span&gt;&lt;span class="mord"&gt;0&amp;quot;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.01968em;"&gt;l&lt;/span&gt;&lt;span class="mord mathnormal"&gt;seec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.4306em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a : 字符串长度为 0"
fi
if [ &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mclose"&gt;]&lt;/span&gt;&lt;span class="mord mathnormal"&gt;t&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;e&lt;/span&gt;&lt;span class="mord mathnormal"&gt;n&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a : 字符串不为空"
else
   echo "$a : 字符串为空"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>abc = efg: a 不等于 b
abc != efg : a 不等于 b
-z abc : 字符串长度不为 0
-n abc : 字符串长度不为 0
abc : 字符串不为空
</code></pre>
<hr />
<h2 id="文件测试运算符"><a class="header" href="#文件测试运算符">文件测试运算符</a></h2>
<p>文件测试运算符用于检测 Unix 文件的各种属性。</p>
<p>属性检测描述如下：</p>
<div class="table-wrapper"><table><thead><tr><th>操作符</th><th>说明</th><th>举例</th></tr></thead><tbody>
<tr><td>-b file</td><td>检测文件是否是块设备文件，如果是，则返回 true。</td><td>[ -b $file ] 返回 false。</td></tr>
<tr><td>-c file</td><td>检测文件是否是字符设备文件，如果是，则返回 true。</td><td>[ -c <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">df</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件是否是目录，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">d</span></span></span></span>file ] 返回 false。</td></tr>
<tr><td>-f file</td><td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td><td>[ -f <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件是否设置了</span><span class="mord mathnormal">SG</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord cjk_fallback">位，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span>file ] 返回 false。</td></tr>
<tr><td>-k file</td><td>检测文件是否设置了粘着位 (Sticky Bit)，如果是，则返回 true。</td><td>[ -k <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件是否是有名管道，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">p</span></span></span></span>file ] 返回 false。</td></tr>
<tr><td>-u file</td><td>检测文件是否设置了 SUID 位，如果是，则返回 true。</td><td>[ -u <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">se</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件是否可读，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>file ] 返回 true。</td></tr>
<tr><td>-w file</td><td>检测文件是否可写，如果是，则返回 true。</td><td>[ -w <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件是否可执行，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">x</span></span></span></span>file ] 返回 true。</td></tr>
<tr><td>-s file</td><td>检测文件是否为空（文件大小是否大于 0），不为空返回 true。</td><td>[ -s <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mord cjk_fallback">返回</span><span class="mord"> </span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣∣</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord">∣</span><span class="mord cjk_fallback">检测文件（包括目录）是否存在，如果是，则返回</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">。</span><span class="mord">∣</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">e</span></span></span></span>file ] 返回 true。</td></tr>
</tbody></table>
</div>
<p>其他检查符：</p>
<ul>
<li><strong>-S</strong>: 判断某文件是否 socket。</li>
<li><strong>-L</strong>: 检测文件是否存在并且是一个符号链接。</li>
</ul>
<h3 id="文件检测实例"><a class="header" href="#文件检测实例">文件检测实例</a></h3>
<p>变量 file 表示文件 <strong>/var/www/runoob/test.sh</strong>，它的大小为 100 字节，具有 <strong>rwx</strong> 权限。下面的代码，将检测该文件的各种属性：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

file="/var/www/runoob/test.sh"
if [ -r $file ]
then
   echo "文件可读"
else
   echo "文件不可读"
fi
if [ -w $file ]
then
   echo "文件可写"
else
   echo "文件不可写"
fi
if [ -x $file ]
then
   echo "文件可执行"
else
   echo "文件不可执行"
fi
if [ -f $file ]
then
   echo "文件为普通文件"
else
   echo "文件为特殊文件"
fi
if [ -d $file ]
then
   echo "文件是个目录"
else
   echo "文件不是个目录"
fi
if [ -s $file ]
then
   echo "文件不为空"
else
   echo "文件为空"
fi
if [ -e $file ]
then
   echo "文件存在"
else
   echo "文件不存在"
fi
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>文件可读
文件可写
文件可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
</code></pre>
<h2 id="shell-test-命令"><a class="header" href="#shell-test-命令">Shell test 命令</a></h2>
<p>Shell 中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p>
<hr />
<h3 id="数值测试"><a class="header" href="#数值测试">数值测试</a></h3>
<div class="table-wrapper"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody>
<tr><td>-eq</td><td>等于则为真</td></tr>
<tr><td>-ne</td><td>不等于则为真</td></tr>
<tr><td>-gt</td><td>大于则为真</td></tr>
<tr><td>-ge</td><td>大于等于则为真</td></tr>
<tr><td>-lt</td><td>小于则为真</td></tr>
<tr><td>-le</td><td>小于等于则为真</td></tr>
</tbody></table>
</div>
<p>相等判断实例</p>
<pre><code class="language-shell">num1=100
num2=100
if test $[num1] -eq $[num2]
then
    echo ' 两个数相等！'
else
    echo ' 两个数不相等！'
fi
</code></pre>
<p>输出结果：</p>
<pre><code>两个数相等！
</code></pre>
<p>代码中的 <code>[]</code> 执行基本的算数运算，如：</p>
<pre><code class="language-shell">#!/bin/bash

a=5
b=6

result=$[a+b] # 注意等号两边不能有空格
echo "result 为： $result"
</code></pre>
<p>结果为:</p>
<pre><code>result 为： 11
</code></pre>
<hr />
<h3 id="字符串测试"><a class="header" href="#字符串测试">字符串测试</a></h3>
<div class="table-wrapper"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody>
<tr><td>=</td><td>等于则为真</td></tr>
<tr><td>!=</td><td>不相等则为真</td></tr>
<tr><td>-z 字符串</td><td>字符串的长度为零则为真</td></tr>
<tr><td>-n 字符串</td><td>字符串的长度不为零则为真</td></tr>
</tbody></table>
</div>
<p>字符串相等判断实例</p>
<pre><code class="language-shell">num1="ru1noob"
num2="runoob"
if test $num1 = $num2
then
    echo ' 两个字符串相等！'
else
    echo ' 两个字符串不相等！'
fi
</code></pre>
<p>输出结果：</p>
<pre><code>两个字符串不相等！
</code></pre>
<hr />
<h3 id="文件测试"><a class="header" href="#文件测试">文件测试</a></h3>
<div class="table-wrapper"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody>
<tr><td>-e 文件名</td><td>如果文件存在则为真</td></tr>
<tr><td>-r 文件名</td><td>如果文件存在且可读则为真</td></tr>
<tr><td>-w 文件名</td><td>如果文件存在且可写则为真</td></tr>
<tr><td>-x 文件名</td><td>如果文件存在且可执行则为真</td></tr>
<tr><td>-s 文件名</td><td>如果文件存在且至少有一个字符则为真</td></tr>
<tr><td>-d 文件名</td><td>如果文件存在且为目录则为真</td></tr>
<tr><td>-f 文件名</td><td>如果文件存在且为普通文件则为真</td></tr>
<tr><td>-c 文件名</td><td>如果文件存在且为字符型特殊文件则为真</td></tr>
<tr><td>-b 文件名</td><td>如果文件存在且为块特殊文件则为真</td></tr>
</tbody></table>
</div>
<p>判断文件存在实例</p>
<pre><code class="language-shell">cd /bin
if test -e ./bash
then
    echo ' 文件已存在！'
else
    echo ' 文件不存在！'
fi
</code></pre>
<p>输出结果：</p>
<pre><code>文件已存在！
</code></pre>
<p>另外，Shell 还提供了与 ( -a )、或 ( -o )、非 ( ! ) 三个逻辑操作符用于将测试条件连接起来，其优先级为： ! 最高， -a 次之， -o 最低。例如：</p>
<pre><code class="language-shell">cd /bin
if test -e ./notFile -o -e ./bash
then
    echo ' 至少有一个文件存在！'
else
    echo ' 两个文件都不存在 '
fi
</code></pre>
<p>输出结果：</p>
<pre><code>至少有一个文件存在！
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-输入输出"><a class="header" href="#shell-输入输出">Shell 输入输出</a></h1>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#shell-read-%E5%91%BD%E4%BB%A4">Shell read 命令</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#shell-echo-%E5%91%BD%E4%BB%A4">Shell echo 命令</a>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#1-%E6%98%BE%E7%A4%BA%E6%99%AE%E9%80%9A%E5%AD%97%E7%AC%A6%E4%B8%B2">1. 显示普通字符串:</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#2-%E6%98%BE%E7%A4%BA%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6">2. 显示转义字符</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#3-%E6%98%BE%E7%A4%BA%E5%8F%98%E9%87%8F">3. 显示变量</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#4-%E6%98%BE%E7%A4%BA%E6%8D%A2%E8%A1%8C">4. 显示换行</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#5-%E6%98%BE%E7%A4%BA%E4%B8%8D%E6%8D%A2%E8%A1%8C">5. 显示不换行</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#6-%E6%98%BE%E7%A4%BA%E7%BB%93%E6%9E%9C%E5%AE%9A%E5%90%91%E8%87%B3%E6%96%87%E4%BB%B6">6. 显示结果定向至文件</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#7-%E5%8E%9F%E6%A0%B7%E8%BE%93%E5%87%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8D%E8%BF%9B%E8%A1%8C%E8%BD%AC%E4%B9%89%E6%88%96%E5%8F%96%E5%8F%98%E9%87%8F-%E7%94%A8%E5%8D%95%E5%BC%95%E5%8F%B7">7. 原样输出字符串，不进行转义或取变量 (用单引号)</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#8-%E6%98%BE%E7%A4%BA%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C">8. 显示命令执行结果</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#shell-printf-%E5%91%BD%E4%BB%A4">Shell printf 命令</a>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#printf-%E8%BE%93%E5%87%BA%E5%AE%9E%E4%BE%8B">printf 输出实例</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA.html#printf-%E7%9A%84%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">printf 的转义序列</a></li>
</ul>
</li>
</ul>
<h2 id="shell-read-命令"><a class="header" href="#shell-read-命令">Shell read 命令</a></h2>
<p>基本语法</p>
<p>read（选项）（参数）选项：</p>
<p>read 读取控制台输入</p>
<p>-p：指定读取值时的提示符；</p>
<p>-t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了。。・参数</p>
<p>变量：指定读取值的变量名应用实例 testRead.sh</p>
<p>案例 1：读取控制台输入一个 num 值</p>
<p><code>read -p"Please input a number: NUM1</code></p>
<p><code>echo $NUM1</code></p>
<p>案例 2：读取控制台输入一个 num 值，在 10 秒内输入。</p>
<p><code>read -t 10 -p"Please input a number: NUM1</code></p>
<p><code>echo $NUM1</code></p>
<h2 id="shell-echo-命令"><a class="header" href="#shell-echo-命令">Shell echo 命令</a></h2>
<p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：</p>
<pre><code>echo string
</code></pre>
<p>您可以使用 echo 实现更复杂的输出格式控制。</p>
<h3 id="1-显示普通字符串"><a class="header" href="#1-显示普通字符串">1. 显示普通字符串:</a></h3>
<pre><code>echo "It is a test"
</code></pre>
<p>这里的双引号完全可以省略，以下命令与上面实例效果一致：</p>
<pre><code>echo It is a test
</code></pre>
<h3 id="2-显示转义字符"><a class="header" href="#2-显示转义字符">2. 显示转义字符</a></h3>
<pre><code>echo "\"It is a test\""
</code></pre>
<p>结果将是:</p>
<pre><code>"It is a test"
</code></pre>
<p>同样，双引号也可以省略</p>
<h3 id="3-显示变量"><a class="header" href="#3-显示变量">3. 显示变量</a></h3>
<p>read 命令从标准输入中读取一行，并把输入行的每个字段的值指定给 shell 变量</p>
<pre><code class="language-shell">#!/bin/sh
read name 
echo "$name It is a test"
</code></pre>
<p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p>
<pre><code>[root@www ~]# sh test.sh
OK                     #标准输入
OK It is a test        #输出
</code></pre>
<h3 id="4-显示换行"><a class="header" href="#4-显示换行">4. 显示换行</a></h3>
<pre><code class="language-shell">echo -e "OK! \n" # -e 开启转义
echo "It is a test"
</code></pre>
<p>输出结果：</p>
<pre><code>OK!

It is a test
</code></pre>
<h3 id="5-显示不换行"><a class="header" href="#5-显示不换行">5. 显示不换行</a></h3>
<p>#!/bin/sh
echo -e "OK! \c" # -e 开启转义 \c 不换行
echo "It is a test"</p>
<p>输出结果：</p>
<p>OK! It is a test</p>
<h3 id="6-显示结果定向至文件"><a class="header" href="#6-显示结果定向至文件">6. 显示结果定向至文件</a></h3>
<pre><code>echo "It is a test" &gt; myfile
</code></pre>
<h3 id="7-原样输出字符串不进行转义或取变量-用单引号"><a class="header" href="#7-原样输出字符串不进行转义或取变量-用单引号">7. 原样输出字符串，不进行转义或取变量 (用单引号)</a></h3>
<pre><code class="language-shell">echo '$name\"'
</code></pre>
<p>输出结果：</p>
<pre><code>$name\"
</code></pre>
<h3 id="8-显示命令执行结果"><a class="header" href="#8-显示命令执行结果">8. 显示命令执行结果</a></h3>
<pre><code class="language-shell">echo `date`
</code></pre>
<p><strong>注意：</strong> 这里使用的是反引号 `, 而不是单引号 '。</p>
<p>结果将显示当前日期</p>
<pre><code>Wed Sep 18 04:11:38 AM UTC 2024
</code></pre>
<h2 id="shell-printf-命令"><a class="header" href="#shell-printf-命令">Shell printf 命令</a></h2>
<p>上一章节我们学习了 Shell 的 echo 命令，本章节我们来学习 Shell 的另一个输出命令 printf。</p>
<p>printf 命令模仿 C 程序库（library）里的 printf () 程序。</p>
<p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p>
<p>printf 使用引用文本或空格分隔的参数，外面可以在 <strong>printf</strong> 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认的 printf 不会像 echo 自动添加换行符，我们可以手动添加 \n。</p>
<p>printf 命令的语法：</p>
<pre><code>printf  format-string  [arguments...]
</code></pre>
<p><strong>参数说明：</strong></p>
<ul>
<li><strong>format-string:</strong> 一个格式字符串，它包含普通文本和格式说明符。</li>
<li><strong>arguments:</strong> 用于填充格式说明符的参数列表。。</li>
</ul>
<p>格式说明符由 % 字符开始，后跟一个或多个字符，用于指定输出的格式。常用的格式说明符包括：</p>
<ul>
<li><code>% s</code>：字符串</li>
<li><code>% d</code>：十进制整数</li>
<li><code>% f</code>：浮点数</li>
<li><code>% c</code>：字符</li>
<li><code>% x</code>：十六进制数</li>
<li><code>% o</code>：八进制数</li>
<li><code>% b</code>：二进制数</li>
<li><code>% e</code>：科学计数法表示的浮点数</li>
</ul>
<h3 id="printf-输出实例"><a class="header" href="#printf-输出实例">printf 输出实例</a></h3>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com
 
printf "%-10s %-8s %-4s\n" 姓名 性别 体重 kg  
printf "%-10s %-8s %-4.2f\n" 郭靖 男 66.1234 
printf "%-10s %-8s %-4.2f\n" 杨过 男 48.6543 
printf "%-10s %-8s %-4.2f\n" 郭芙 女 47.9876
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>姓名     性别   体重 kg
郭靖     男      66.12
杨过     男      48.65
郭芙     女      47.99
</code></pre>
<p>% s % c % d % f 都是格式替代符，<strong>％s</strong> 输出一个字符串，<strong>％d</strong> 整型输出，<strong>％c</strong> 输出一个字符，<strong>％f</strong> 输出实数，以小数形式输出。</p>
<p>%-10s 指一个宽度为 10 个字符（<strong>-</strong> 表示左对齐，没有则表示右对齐），任何字符都会被显示在 10 个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p>
<p>%-4.2f 指格式化为小数，其中 <strong>.2</strong> 指保留 2 位小数。</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com
 
# format-string 为双引号
printf "% d % s\n" 1 "abc"

# 单引号与双引号效果一样 
printf '% d % s\n' 1 "abc" 

# 没有引号也可以输出
printf % s abcdef

# 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用
printf % s abc def

printf "% s\n" abc def

printf "% s % s % s\n" a b c d e f g h i j

# 如果没有 arguments，那么 % s 用 NULL 代替，% d 用 0 代替
printf "% s and % d \n"
</code></pre>
<p>执行脚本，输出结果如下所示：</p>
<pre><code>1 abc
1 abc
abcdefabcdefabc
def
a b c
d e f
g h i
j  
 and 0
</code></pre>
<h3 id="printf-的转义序列"><a class="header" href="#printf-的转义序列">printf 的转义序列</a></h3>
<div class="table-wrapper"><table><thead><tr><th>序列</th><th>说明</th></tr></thead><tbody>
<tr><td>\a</td><td>警告字符，通常为 ASCII 的 BEL 字符</td></tr>
<tr><td>\b</td><td>后退</td></tr>
<tr><td>\c</td><td>抑制（不显示）输出结果中任何结尾的换行字符（只在 % b 格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td></tr>
<tr><td>\f</td><td>换页（formfeed）</td></tr>
<tr><td>\n</td><td>换行</td></tr>
<tr><td>\r</td><td>回车（Carriage return）</td></tr>
<tr><td>\t</td><td>水平制表符</td></tr>
<tr><td>\v</td><td>垂直制表符</td></tr>
<tr><td>| 一个字面上的反斜杠字符</td><td></td></tr>
<tr><td>\ddd</td><td>表示 1 到 3 位数八进制值的字符。仅在格式字符串中有效</td></tr>
<tr><td>\0ddd</td><td>表示 1 到 3 位的八进制值字符</td></tr>
</tbody></table>
</div>
<p>实例：</p>
<pre><code class="language-shell">$ printf "a string, no processing:&lt;% s&gt;\n" "A\nB"
a string, no processing:&lt;A\nB&gt;

$ printf "a string, no processing:&lt;% b&gt;\n" "A\nB"
a string, no processing:&lt;A
B&gt;

$ printf "www.runoob.com \a"
www.runoob.com $                  #不换行
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-输入--输出重定向"><a class="header" href="#shell-输入--输出重定向">Shell 输入 / 输出重定向</a></h1>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#%E9%87%8D%E5%AE%9A%E5%90%91%E5%91%BD%E4%BB%A4%E5%88%97%E8%A1%A8">重定向命令列表</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91">输出重定向</a></li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91">输入重定向</a>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#%E9%87%8D%E5%AE%9A%E5%90%91%E6%B7%B1%E5%85%A5%E8%AE%B2%E8%A7%A3">重定向深入讲解</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#here-document">Here Document</a>
<ul>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#%E5%AE%9E%E4%BE%8B">实例</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91.html#devnull-%E6%96%87%E4%BB%B6">/dev/null 文件</a></li>
</ul>
<p>大多数 UNIX 系统命令从你的终端接受输入并将所产生的输出发送回​​到您的终端。一个命令通常从一个叫标准输入的地方读取输入，默认情况下，这恰好是你的终端。同样，一个命令通常将其输出写入到标准输出，默认情况下，这也是你的终端。</p>
<h2 id="重定向命令列表"><a class="header" href="#重定向命令列表">重定向命令列表</a></h2>
<p>列表内容如下：</p>
<div class="table-wrapper"><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody>
<tr><td>command &gt; file</td><td>将输出重定向到 file。</td></tr>
<tr><td>command &lt; file</td><td>将输入重定向到 file。</td></tr>
<tr><td>command &gt;&gt; file</td><td>将输出以追加的方式重定向到 file。</td></tr>
<tr><td>n &gt; file</td><td>将文件描述符为 n 的文件重定向到 file。</td></tr>
<tr><td>n &gt;&gt; file</td><td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td></tr>
<tr><td>n &gt;&amp; m</td><td>将输出文件 m 和 n 合并。</td></tr>
<tr><td>n &lt;&amp; m</td><td>将输入文件 m 和 n 合并。</td></tr>
<tr><td>&lt;&lt; tag</td><td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td></tr>
</tbody></table>
</div>
<blockquote>
<p>需要注意的是文件描述符 0 通常是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p>
</blockquote>
<hr />
<h2 id="输出重定向"><a class="header" href="#输出重定向">输出重定向</a></h2>
<p>重定向一般通过在命令间插入特定的符号来实现。特别的，这些符号的语法如下所示:</p>
<pre><code class="language-shell">command1 &gt; file1
</code></pre>
<p>上面这个命令执行 command1 然后将输出的内容存入 file1。</p>
<p>注意任何 file1 内的已经存在的内容将被新内容替代。如果要将新内容添加在文件末尾，请使用 &gt;&gt; 操作符。</p>
<p>执行下面的 who 命令，它将命令的完整的输出重定向在用户文件中 (users):</p>
<pre><code>$ who &gt; users
</code></pre>
<p>执行后，并没有在终端输出信息，这是因为输出已被从默认的标准输出设备（终端）重定向到指定的文件。</p>
<p>你可以使用 cat 命令查看文件内容：</p>
<pre><code>$ cat users
_mbsetupuser console  Oct 31 17:35 
tianqixin    console  Oct 31 17:35 
tianqixin    ttys000  Dec  1 11:33 
</code></pre>
<p>输出重定向会覆盖文件内容，请看下面的例子：</p>
<pre><code>$ echo "菜鸟教程：www.runoob.com" &gt; users
$ cat users
菜鸟教程：www.runoob.com
$
</code></pre>
<p>如果不希望文件内容被覆盖，可以使用 &gt;&gt; 追加到文件末尾，例如：</p>
<pre><code>$ echo "菜鸟教程：www.runoob.com" &gt;&gt; users
$ cat users
菜鸟教程：www.runoob.com
菜鸟教程：www.runoob.com
$
</code></pre>
<hr />
<h2 id="输入重定向"><a class="header" href="#输入重定向">输入重定向</a></h2>
<p>和输出重定向一样，Unix 命令也可以从文件获取输入，语法为：</p>
<pre><code>command1 &lt; file1
</code></pre>
<p>这样，本来需要从键盘获取输入的命令会转移到文件读取内容。</p>
<p>注意：输出重定向是大于号 (&gt;)，输入重定向是小于号 (&lt;)。</p>
<p>接着以上实例，我们需要统计 users 文件的行数，执行以下命令：</p>
<pre><code>$ wc -l users
       2 users
</code></pre>
<p>也可以将输入重定向到 users 文件：</p>
<pre><code>$  wc -l &lt; users
       2 
</code></pre>
<p>注意：上面两个例子的结果不同：第一个例子，会输出文件名；第二个不会，因为它仅仅知道从标准输入读取内容。</p>
<pre><code>command1 &lt; infile &gt; outfile
</code></pre>
<p>同时替换输入和输出，执行 command1，从文件 infile 读取内容，然后将输出写入到 outfile 中。</p>
<h3 id="重定向深入讲解"><a class="header" href="#重定向深入讲解">重定向深入讲解</a></h3>
<p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p>
<ul>
<li>标准输入文件 (stdin)：stdin 的文件描述符为 0，Unix 程序默认从 stdin 读取数据。</li>
<li>标准输出文件 (stdout)：stdout 的文件描述符为 1，Unix 程序默认向 stdout 输出数据。</li>
<li>标准错误文件 (stderr)：stderr 的文件描述符为 2，Unix 程序会向 stderr 流中写入错误信息。</li>
</ul>
<p>默认情况下，command &gt; file 将 stdout 重定向到 file，command &lt; file 将 stdin 重定向到 file。</p>
<p>如果希望 stderr 重定向到 file，可以这样写：</p>
<pre><code>$ command 2&gt;file
</code></pre>
<p>如果希望 stderr 追加到 file 文件末尾，可以这样写：</p>
<pre><code>$ command 2&gt;&gt;file
</code></pre>
<p><strong>2</strong> 表示标准错误文件 (stderr)。</p>
<p>如果希望将 stdout 和 stderr 合并后重定向到 file，可以这样写：</p>
<pre><code>$ command &gt; file 2&gt;&amp;1
</code></pre>
<p>或者</p>
<pre><code>$ command &gt;&gt; file 2&gt;&amp;1
</code></pre>
<p>如果希望对 stdin 和 stdout 都重定向，可以这样写：</p>
<pre><code>$ command &lt; file1 &gt;file2
</code></pre>
<p>command 命令将 stdin 重定向到 file1，将 stdout 重定向到 file2。</p>
<hr />
<h2 id="here-document"><a class="header" href="#here-document">Here Document</a></h2>
<p>Here Document 是 Shell 中的一种特殊的重定向方式，用来将输入重定向到一个交互式 Shell 脚本或程序。</p>
<p>它的基本的形式如下：</p>
<pre><code class="language-shell">command &lt;&lt; delimiter
    document
delimiter
</code></pre>
<p>它的作用是将两个 delimiter 之间的内容 (document) 作为输入传递给 command。</p>
<blockquote>
<p>注意：</p>
<ul>
<li>结尾的 delimiter 一定要顶格写，前面不能有任何字符，后面也不能有任何字符，包括空格和 tab 缩进。</li>
<li>开始的 delimiter 前后的空格会被忽略掉。</li>
</ul>
</blockquote>
<h3 id="实例"><a class="header" href="#实例">实例</a></h3>
<p>在命令行中通过 wc -l 命令计算 Here Document 的行数：</p>
<pre><code class="language-shell">$ wc -l &lt;&lt; EOF
    欢迎来到
    菜鸟教程
    www.runoob.com
EOF
3          # 输出结果为 3 行
$
</code></pre>
<p>我们也可以将 Here Document 用在脚本中，例如：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

cat &lt;&lt; EOF
欢迎来到
菜鸟教程
www.runoob.com
EOF
</code></pre>
<p>执行以上脚本，输出结果：</p>
<pre><code>欢迎来到
菜鸟教程
www.runoob.com
</code></pre>
<hr />
<h2 id="devnull-文件"><a class="header" href="#devnull-文件">/dev/null 文件</a></h2>
<p>如果希望执行某个命令，但又不希望在屏幕上显示输出结果，那么可以将输出重定向到 /dev/null：</p>
<pre><code>$ command &gt; /dev/null
</code></pre>
<p>/dev/null 是一个特殊的文件，写入到它的内容都会被丢弃；如果尝试从该文件读取内容，那么什么也读不到。但是 /dev/null 文件非常有用，将命令的输出重定向到它，会起到 "禁止输出" 的效果。</p>
<p>如果希望屏蔽 stdout 和 stderr，可以这样写：</p>
<pre><code>$ command &gt; /dev/null 2&gt;&amp;1
</code></pre>
<blockquote>
<p><strong>注意：</strong> 0 是标准输入（STDIN），1 是标准输出（STDOUT），2 是标准错误输出（STDERR）。</p>
<p>这里的 <strong>2</strong> 和 <strong>&gt;</strong> 之间不可以有空格，<strong>2&gt;</strong> 是一体的时候才表示错误输出。</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-流程控制"><a class="header" href="#shell-流程控制">Shell 流程控制</a></h1>
<ul>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#if-else-if-else">if else-if else</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#for-%E5%BE%AA%E7%8E%AF">for 循环</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#while-%E8%AF%AD%E5%8F%A5">while 语句</a>
<ul>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#%E8%AF%BB%E5%8F%96%E9%94%AE%E7%9B%98%E4%BF%A1%E6%81%AF">读取键盘信息</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF">无限循环</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#until-%E5%BE%AA%E7%8E%AF">until 循环</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#case--esac-%E5%A4%9A%E9%80%89%E6%8B%A9%E8%AF%AD%E5%8F%A5%E4%B8%8D%E4%BC%9A%E7%A9%BF%E9%80%8F">case ... esac 多选择语句（不会穿透）</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF">跳出循环</a>
<ul>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#break-%E5%91%BD%E4%BB%A4">break 命令</a></li>
<li><a href="Shell/Shell%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html#continue-%E5%91%BD%E4%BB%A4">continue 命令</a></li>
</ul>
</li>
</ul>
<p>和 Java、PHP 等语言不一样，sh 的流程控制不可为空。</p>
<p>写成一行（适用于终端命令提示符）：</p>
<pre><code class="language-shell">if [$(ps -ef | grep -c "ssh") -gt 1 ]; then echo "true"; fi
</code></pre>
<h3 id="if-else-if-else"><a class="header" href="#if-else-if-else">if else-if else</a></h3>
<p>if else-if else 语法格式：</p>
<pre><code class="language-shell">if condition1
then
    command1
elif condition2 
then 
    command2
else
    commandN
fi
</code></pre>
<p>if else 的 <code>[...]</code> 判断语句中大于使用 -gt，小于使用 -lt。</p>
<pre><code class="language-shell">if [ "$a" -gt "$b" ]; then
    ...
fi
</code></pre>
<p>如果使用 ((...)) 作为判断语句，大于和小于可以直接使用 &gt; 和 &lt;。</p>
<pre><code class="language-shell">if (( a &gt; b )); then
    ...
fi
</code></pre>
<p>以下实例判断两个变量是否相等：</p>
<pre><code class="language-shell">a=10
b=20
if [ $a == $b ]
then
   echo "a 等于 b"
elif [ $a -gt $b ]
then
   echo "a 大于 b"
elif [ $a -lt $b ]
then
   echo "a 小于 b"
else
   echo "没有符合的条件"
fi
</code></pre>
<p>输出结果：</p>
<pre><code>a 小于 b
</code></pre>
<p>使用 ((...)) 作为判断语句:</p>
<pre><code class="language-shell">a=10
b=20
if (( $a == $b ))
then
   echo "a 等于 b"
elif (( $a &gt; $b ))
then
   echo "a 大于 b"
elif (( $a &lt; $b ))
then
   echo "a 小于 b"
else
   echo "没有符合的条件"
fi
</code></pre>
<p>输出结果：</p>
<pre><code>a 小于 b
</code></pre>
<p>if else 语句经常与 test 命令结合使用，如下所示：</p>
<pre><code class="language-shell">num1=$[2*3]
num2=$[1+5]
if test $[num1] -eq $[num2]
then
    echo ' 两个数字相等！'
else
    echo ' 两个数字不相等！'
fi
</code></pre>
<p>输出结果：</p>
<pre><code>两个数字相等！
</code></pre>
<hr />
<h2 id="for-循环"><a class="header" href="#for-循环">for 循环</a></h2>
<p>与其他编程语言类似，Shell 支持 for 循环。</p>
<p>for 循环一般格式为：</p>
<pre><code class="language-shell">for var in item1 item2 ... itemN
do
    command1
    command2
    ...
    commandN
done
</code></pre>
<p>写成一行：</p>
<pre><code class="language-shell">for var in item1 item2 ... itemN; do command1; command2… done;
</code></pre>
<p>当变量值在列表里，for 循环即执行一次所有命令，使用变量名获取列表中的当前取值。命令可为任何有效的 shell 命令和语句。in 列表可以包含替换、字符串和文件名。</p>
<p>in 列表是可选的，如果不用它，for 循环使用命令行的位置参数。</p>
<p>例如，顺序输出当前列表中的数字：</p>
<pre><code class="language-shell">for loop in 1 2 3 4 5  
do  
    echo "The value is: $loop"  
done  
</code></pre>
<p>输出结果：</p>
<pre><code>The value is: 1
The value is: 2
The value is: 3
The value is: 4
The value is: 5
</code></pre>
<p>for 循环另一种格式：</p>
<pre><code class="language-shell">for ((初始值：循环控制条件；变量变化))
do 
程序 
done
</code></pre>
<p>从 1 加到 100 的值输出显示实例</p>
<pre><code class="language-shell">#!/bin/bash
SUM=0
for ((i=1; i&lt;=100; i++))
do
	SUM=$[$SUM+$i]
done
echo "SUM=$SUM"
</code></pre>
<hr />
<h2 id="while-语句"><a class="header" href="#while-语句">while 语句</a></h2>
<p>while 循环用于不断执行一系列命令，也用于从输入文件中读取数据。其语法格式为：</p>
<pre><code class="language-shell">while condition
do
    command
done
</code></pre>
<p>以下是一个基本的 while 循环，测试条件是：如果 int 小于等于 5，那么条件返回真。int 从 1 开始，每次循环处理时，int 加 1。运行上述脚本，返回数字 1 到 5，然后终止。</p>
<pre><code class="language-shell">#!/bin/bash
int=1
while (( $int&lt;=5 ))
do
    echo $int
    let "int++"
done
</code></pre>
<p>运行脚本，输出：</p>
<pre><code>1
2
3
4
5
</code></pre>
<p>注意：这里 <code>echo</code> 默认换行</p>
<p>以上实例使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量，具体可查阅：<a href="https://www.runoob.com/linux/linux-comm-let.html">Bash let 命令</a>。</p>
<h3 id="读取键盘信息"><a class="header" href="#读取键盘信息">读取键盘信息</a></h3>
<p>while 循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量 FILM，按 <code>&lt;Ctrl-D&gt;</code> 结束循环。</p>
<pre><code class="language-shell">echo ' 按下 &lt;CTRL-D&gt; 退出 '
echo -n ' 输入你最喜欢的网站名: '
while read FILM
do
    echo "是的！$FILM 是一个好网站"
done
</code></pre>
<p>运行脚本，输出类似下面：</p>
<pre><code>按下 &lt;CTRL-D&gt; 退出
输入你最喜欢的网站名：菜鸟教程
是的！菜鸟教程 是一个好网站
</code></pre>
<h3 id="无限循环"><a class="header" href="#无限循环">无限循环</a></h3>
<p>无限循环语法格式：</p>
<pre><code class="language-shell">while :
do
    command
done
</code></pre>
<p>或者</p>
<pre><code class="language-shell">while true
do
    command
done
</code></pre>
<p>或者</p>
<pre><code class="language-shell">for (( ; ; ))
</code></pre>
<hr />
<h2 id="until-循环"><a class="header" href="#until-循环">until 循环</a></h2>
<p>until 循环执行一系列命令直至条件为 true 时停止。</p>
<p>until 循环与 while 循环在处理方式上刚好相反。</p>
<p>一般 while 循环优于 until 循环，但在某些时候 — 也只是极少数情况下，until 循环更加有用。</p>
<p>until 语法格式:</p>
<pre><code>until condition
do
    command
done
</code></pre>
<p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p>
<p>以下实例我们使用 until 命令来输出 0 ~ 9 的数字：</p>
<pre><code class="language-shell">#!/bin/bash

a=0

until [ ! &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;span class="mbin"&gt;−&lt;/span&gt;&lt;span class="mspace" style="margin-right:0.2222em;"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;lt&lt;/span&gt;&lt;span class="mord"&gt;10&lt;/span&gt;&lt;span class="mclose"&gt;]&lt;/span&gt;&lt;span class="mord mathnormal"&gt;d&lt;/span&gt;&lt;span class="mord mathnormal"&gt;oec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;a
   a=`expr $a + 1`
done
</code></pre>
<p>输出结果为：</p>
<pre><code>0
1
2
3
4
5
6
7
8
9
</code></pre>
<hr />
<h2 id="case--esac-多选择语句不会穿透"><a class="header" href="#case--esac-多选择语句不会穿透">case ... esac 多选择语句（不会穿透）</a></h2>
<p><strong>case ... esac</strong> 为多选择语句，与其他语言中的 switch ... case 语句类似，是一种多分支选择结构，每个 case 分支用右圆括号开始，用两个分号 ;; 表示 break，即执行结束，跳出整个 case ... esac 语句，esac（就是 case 反过来）作为结束标记。</p>
<p>可以用 case 语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。</p>
<p><strong>case ... esac</strong> 语法格式如下：</p>
<pre><code class="language-shell">case 值 in
模式 1)
    command1
    command2
    ...
    commandN
    ;;
模式 2)
    command1
    command2
    ...
    commandN
    ;;
esac
</code></pre>
<p>case 工作方式如上所示，取值后面必须为单词 <strong>in</strong>，每一模式必须以右括号结束。取值可以为变量或常数，匹配发现取值符合某一模式后，其间所有命令开始执行直至 ;;。</p>
<p>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</p>
<p>下面的脚本提示输入 1 到 4，与每一种模式进行匹配：</p>
<pre><code class="language-shell">echo ' 输入 1 到 4 之间的数字:'
echo ' 你输入的数字为:'
read aNum
case $aNum in
    1)  echo ' 你选择了 1'
    ;;
    2)  echo ' 你选择了 2'
    ;;
    3)  echo ' 你选择了 3'
    ;;
    4)  echo ' 你选择了 4'
    ;;
    *)  echo ' 你没有输入 1 到 4 之间的数字 '
    ;;
esac
</code></pre>
<p>输入不同的内容，会有不同的结果，例如：</p>
<pre><code>输入 1 到 4 之间的数字:
你输入的数字为:
3
你选择了 3
</code></pre>
<p>下面的脚本匹配字符串：</p>
<pre><code class="language-shell">#!/bin/sh

site="runoob"

case "$site" in
   "runoob") echo "菜鸟教程" 
   ;;
   "google") echo "Google 搜索" 
   ;;
   "taobao") echo "淘宝网" 
   ;;
esac
</code></pre>
<p>输出结果为：</p>
<pre><code>菜鸟教程
</code></pre>
<hr />
<h2 id="跳出循环"><a class="header" href="#跳出循环">跳出循环</a></h2>
<p>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell 使用两个命令来实现该功能：<strong>break</strong> 和 <strong>continue</strong>。</p>
<h3 id="break-命令"><a class="header" href="#break-命令">break 命令</a></h3>
<p>break 命令允许跳出所有循环（终止执行后面的所有循环）。</p>
<p>下面的例子中，脚本进入死循环直至用户输入数字大于 5。要跳出这个循环，返回到 shell 提示符下，需要使用 break 命令。</p>
<pre><code class="language-shell">#!/bin/bash
while :
do
    echo -n "输入 1 到 5 之间的数字:"
    read aNum
    case &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10903em;"&gt;N&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord mathnormal"&gt;min&lt;/span&gt;&lt;span class="mord"&gt;1∣2∣3∣4∣5&lt;/span&gt;&lt;span class="mclose"&gt;)&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;你输入的数字为&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;aNum!"
        ;;
        *) echo "你输入的数字不是 1 到 5 之间的！游戏结束"
            break
        ;;
    esac
done
</code></pre>
<p>执行以上代码，输出结果为：</p>
<pre><code>输入 1 到 5 之间的数字：3
你输入的数字为 3!
输入 1 到 5 之间的数字：7
你输入的数字不是 1 到 5 之间的！游戏结束
</code></pre>
<h3 id="continue-命令"><a class="header" href="#continue-命令">continue 命令</a></h3>
<p>continue 命令与 break 命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p>
<p>对上面的例子进行修改：</p>
<pre><code class="language-shell">#!/bin/bash
while :
do
    echo -n "输入 1 到 5 之间的数字:"
    read aNum
    case &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:1em;vertical-align:-0.25em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10903em;"&gt;N&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord mathnormal"&gt;min&lt;/span&gt;&lt;span class="mord"&gt;1∣2∣3∣4∣5&lt;/span&gt;&lt;span class="mclose"&gt;)&lt;/span&gt;&lt;span class="mord mathnormal"&gt;ec&lt;/span&gt;&lt;span class="mord mathnormal"&gt;h&lt;/span&gt;&lt;span class="mord mathnormal"&gt;o&lt;/span&gt;&lt;span class="mord"&gt;&amp;quot;&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;你输入的数字为&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;aNum!"
        ;;
        *) echo "你输入的数字不是 1 到 5 之间的！"
            continue
            echo "游戏结束"
        ;;
    esac
done
</code></pre>
<p>运行代码发现，当输入大于 5 的数字时，该例中的循环不会结束，语句 <strong>echo "游戏结束"</strong> 永远不会被执行。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-函数"><a class="header" href="#shell-函数">Shell 函数</a></h1>
<ul>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0">系统函数</a>
<ul>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#basename">basename</a></li>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#dirname">dirname</a></li>
</ul>
</li>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0">自定义函数</a>
<ul>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC">无返回值</a></li>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E6%9C%89%E8%BF%94%E5%9B%9E%E5%80%BC">有返回值</a></li>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0">函数参数</a></li>
<li><a href="Shell/Shell%E5%87%BD%E6%95%B0.html#%E7%89%B9%E6%AE%8A%E5%8F%82%E6%95%B0%E5%AD%97%E7%AC%A6">特殊参数字符</a></li>
</ul>
</li>
</ul>
<h2 id="系统函数"><a class="header" href="#系统函数">系统函数</a></h2>
<h3 id="basename"><a class="header" href="#basename">basename</a></h3>
<p>功能：返回完整路径最后 / 的部分，常用于获取文件名</p>
<pre><code>basename [pathname] [suffix] 

basename [string] [suffix]
</code></pre>
<p>选项：suffix 为后缀，如果 suffix 被指定了，basename 会将 pathname 或 string 中的 suffix 去掉。</p>
<p>案例：输出 /home/aaa/test.txt 的 “test.txt" 部分</p>
<p><code>basename /home/aaa/test.txt</code> 得到 <code>test.txt</code></p>
<p><code>basename /home/aaa/test.txt .txt</code> 得到 <code>test</code></p>
<h3 id="dirname"><a class="header" href="#dirname">dirname</a></h3>
<p>功能：返回完整路径最后 / 的前面的部分，常用于返回路径部分</p>
<p>dirname 文件绝对路径（功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分））</p>
<p>案例：输出 /home/aaa/test.txt 的 /home/aaa</p>
<p><code>dirname /home/aaa/test.txt</code> 得到 <code>/home/aaa</code></p>
<h2 id="自定义函数"><a class="header" href="#自定义函数">自定义函数</a></h2>
<p>linux shell 可以用户定义函数，然后在 shell 脚本中可以随便调用。</p>
<p>shell 中函数的定义格式如下：</p>
<pre><code class="language-shell">[ function ] funname [()]

{

    action;

    [return int;]

}
</code></pre>
<p>说明：</p>
<ul>
<li>1、可以带 function fun () 定义，也可以直接 fun () 定义，不带任何参数。</li>
<li>2、参数返回，可以显示加：<strong>return</strong> 返回，如果不加，将以最后一条命令运行结果，作为返回值。 <strong>return</strong> 后跟数值 n (0-255).</li>
</ul>
<p>注意：return 语句只能返回一个介于 0 到 255 之间的整数</p>
<h3 id="无返回值"><a class="header" href="#无返回值">无返回值</a></h3>
<p>下面的例子定义了一个函数并进行调用：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

demoFun (){
    echo "这是我的第一个 shell 函数！"
}
echo "----- 函数开始执行 -----"
demoFun
echo "----- 函数执行完毕 -----"
</code></pre>
<p>输出结果：</p>
<pre><code>----- 函数开始执行 -----
这是我的第一个 shell 函数！
----- 函数执行完毕 -----
</code></pre>
<h3 id="有返回值"><a class="header" href="#有返回值">有返回值</a></h3>
<p>下面定义一个带有 return 语句的函数：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

funWithReturn (){
    echo "这个函数会对输入的两个数字进行相加运算..."
    echo "输入第一个数字:"
    read aNum
    echo "输入第二个数字:"
    read anotherNum
    echo "两个数字分别为 $aNum 和 $anotherNum !"
    return $(($aNum+$anotherNum))
}
funWithReturn
echo "输入的两个数字之和为 $? !"
</code></pre>
<p>输出类似下面：</p>
<pre><code>这个函数会对输入的两个数字进行相加运算...
输入第一个数字: 
1
输入第二个数字: 
2
两个数字分别为 1 和 2 !
输入的两个数字之和为 3 !
</code></pre>
<p>函数返回值在调用该函数后通过 $? 来获得。</p>
<p><strong>注意：</strong> 所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至 shell 解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</p>
<p><strong>注意：</strong> return 语句只能返回一个介于 0 到 255 之间的整数，而两个输入数字的和可能超过这个范围。</p>
<p>要解决这个问题，您可以修改 return 语句，直接使用 echo 输出和而不是使用 return：</p>
<pre><code class="language-shell">funWithReturn (){
    echo "这个函数会对输入的两个数字进行相加运算..."
    echo "输入第一个数字:"
    read aNum
    echo "输入第二个数字:"
    read anotherNum
    sum=$((&lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10903em;"&gt;N&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord mathnormal"&gt;m&lt;/span&gt;&lt;span class="mord"&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;anotherNum))
    echo "两个数字分别为 &lt;span class="katex"&gt;&lt;span class="katex-html" aria-hidden="true"&gt;&lt;span class="base"&gt;&lt;span class="strut" style="height:0.6833em;"&gt;&lt;/span&gt;&lt;span class="mord mathnormal"&gt;a&lt;/span&gt;&lt;span class="mord mathnormal" style="margin-right:0.10903em;"&gt;N&lt;/span&gt;&lt;span class="mord mathnormal"&gt;u&lt;/span&gt;&lt;span class="mord mathnormal"&gt;m&lt;/span&gt;&lt;span class="mord cjk_fallback"&gt;和&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;anotherNum !"
    echo $sum  # 输出两个数字的和
}
</code></pre>
<hr />
<h3 id="函数参数"><a class="header" href="#函数参数">函数参数</a></h3>
<p>在 Shell 中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">表示第一个参数，</span></span></span></span>2 表示第二个参数...</p>
<p>带参数的函数示例：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

funWithParam (){
    echo "第一个参数为 $1 !"
    echo "第二个参数为 $2 !"
    echo "第十个参数为 $10 !"
    echo "第十个参数为 ${10} !"
    echo "第十一个参数为 ${11} !"
    echo "参数总数有 $# 个！"
    echo "作为一个字符串输出所有参数 $* !"
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73
</code></pre>
<p>输出结果：</p>
<pre><code>第一个参数为 1 !
第二个参数为 2 !
第十个参数为 10 !
第十个参数为 34 !
第十一个参数为 73 !
参数总数有 11 个！
作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !
</code></pre>
<p>注意，<code>$10</code> 不能获取第十个参数，获取第十个参数需要 <code>${10}</code>。当 n&gt;=10 时，需要使用 <code>${n}</code> 来获取参数。</p>
<h3 id="特殊参数字符"><a class="header" href="#特殊参数字符">特殊参数字符</a></h3>
<p>另外，还有几个特殊字符用来处理参数：</p>
<div class="table-wrapper"><table><thead><tr><th>参数处理</th><th>说明</th></tr></thead><tbody>
<tr><td>$#</td><td>传递到脚本或函数的参数个数</td></tr>
<tr><td>$*</td><td>以一个单字符串显示所有向脚本传递的参数</td></tr>
<tr><td>$$</td><td>脚本运行的当前进程 ID 号</td></tr>
<tr><td>$!</td><td>后台运行的最后一个进程的 ID 号</td></tr>
<tr><td>$@</td><td>与 $*相同，但是使用时加引号，并在引号中返回每个参数。</td></tr>
<tr><td>$-</td><td>显示 Shell 使用的当前选项，与 set 命令功能相同。</td></tr>
<tr><td>$?</td><td>显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误。</td></tr>
</tbody></table>
</div>
<p>$? 仅对其上一条指令负责，一旦函数返回后其返回值没有立即保存入参数，那么其返回值将不再能通过 $? 获得。</p>
<p>测试代码：</p>
<pre><code class="language-shell">#!/bin/bash
function demoFun1 (){
    echo "这是我的第一个 shell 函数！"
    return `expr 1 + 1`
}

demoFun1
echo $?

function demoFun2 (){
 echo "这是我的第二个 shell 函数！"
 expr 1 + 1
}

demoFun2
echo $?
demoFun1
echo 在这里插入命令！
echo $?
</code></pre>
<p>输出结果：</p>
<pre><code>这是我的第一个 shell 函数！
2
这是我的第二个 shell 函数！
2
0
这是我的第一个 shell 函数！
在这里插入命令！
0
</code></pre>
<p>调用 demoFun2 后，函数最后一条命令 expr 1 + 1 得到的返回值（$? 值）为 0，意思是这个命令没有出错。所有的命令的返回值仅表示其是否出错，而不会有其他有含义的结果。</p>
<p>第二次调用 demoFun1 后，没有立即查看 $? 的值，而是先插入了一条别的 echo 命令，最后再查看 $? 的值得到的是 0，也就是上一条 echo 命令的结果，而 demoFun1 的返回值被覆盖了。</p>
<p>下面这个测试，连续使用两次 <strong>echo $?</strong>，得到的结果不同，更为直观：</p>
<pre><code class="language-shell">#!/bin/bash

function demoFun1 (){
    echo "这是我的第一个 shell 函数！"
    return `expr 1 + 1`
}

demoFun1
echo $?
echo $?
</code></pre>
<p>输出结果：</p>
<pre><code>这是我的第一个 shell 函数！
2
0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-文件包含"><a class="header" href="#shell-文件包含">Shell 文件包含</a></h1>
<p>和其他语言一样，Shell 也可以包含外部脚本。这样可以很方便的封装一些公用的代码作为一个独立的文件。</p>
<p>Shell 文件包含的语法格式如下：</p>
<pre><code class="language-shell">. filename   # 注意点号 (.) 和文件名中间有一空格

或

source filename
</code></pre>
<h2 id="实例-1"><a class="header" href="#实例-1">实例</a></h2>
<p>创建两个 shell 脚本文件。</p>
<p>test1.sh 代码如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

url="http://www.runoob.com"
</code></pre>
<p>test2.sh 代码如下：</p>
<pre><code class="language-shell">#!/bin/bash
# author: 菜鸟教程
# url:www.runoob.com

# 使用。号来引用 test1.sh 文件
. ./test1.sh

# 或者使用以下包含文件代码
# source ./test1.sh

echo "菜鸟教程官网地址：$url"
</code></pre>
<p>接下来，我们为 test2.sh 添加可执行权限并执行：</p>
<pre><code>$ chmod +x test2.sh 
$ ./test2.sh 
菜鸟教程官网地址：http://www.runoob.com
</code></pre>
<blockquote>
<p><strong>注：</strong> 被包含的文件 test1.sh 不需要可执行权限。</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="shell-编程综合案例"><a class="header" href="#shell-编程综合案例">Shell 编程综合案例</a></h1>
<ul>
<li><a href="Shell/Shell%E7%BC%96%E7%A8%8B%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B.html#%E5%B8%B8%E7%94%A8%E7%9A%84-55-%E4%B8%AA-linux-shell-%E8%84%9A%E6%9C%AC%E5%8C%85%E6%8B%AC%E5%9F%BA%E7%A1%80%E6%A1%88%E4%BE%8B%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E5%9B%BE%E5%BD%A2%E5%8C%96sedgawk">常用的 55 个 Linux Shell 脚本（包括基础案例、文件操作、实用工具、图形化、sed、gawk）</a></li>
<li><a href="Shell/Shell%E7%BC%96%E7%A8%8B%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B.html#mysql-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD">MySQL 数据库定时备份</a></li>
</ul>
<h2 id="常用的-55-个-linux-shell-脚本包括基础案例文件操作实用工具图形化sedgawk"><a class="header" href="#常用的-55-个-linux-shell-脚本包括基础案例文件操作实用工具图形化sedgawk">常用的 55 个 Linux Shell 脚本（包括基础案例、文件操作、实用工具、图形化、sed、gawk）</a></h2>
<p>https://blog.csdn.net/cui_yonghua/article/details/131673690</p>
<h2 id="mysql-数据库定时备份"><a class="header" href="#mysql-数据库定时备份">MySQL 数据库定时备份</a></h2>
<p>每天凌晨 2:30 备份数据库 hspedu 到 /data/backup/db 备份开始和备份结束能够给出相应的提示信息</p>
<p>备份后的文件要求以备份时间为文件名，并打包成.tar.gz 的形式，比如：2021-03-12 230201.tar.gz</p>
<p>在备份的同时，检查是否有 10 天前备份的数据库文件，如果有就将其删除。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Rosefinch-Midsummer/MyImagesHost04/img/20240917110849.png" alt="" /></p>
<p>对应脚本内容如下：</p>
<pre><code class="language-shell"># 备份目录
BACKUP=/data/backup/db
# 当前时间
DATETIME=$(date +% Y-% m-% d_% H% M% S)
echo $DATETIME
# 数据库的地址
HOST=localhost
# 数据库用户名
DB_USER=root
# 数据库密码
DB_PW=hspedu100
# 备份的数据库名
DATABASE=hspedu
# 创建备份目录，如果不存在，就创建
[ ! -d "${BACKUP}/${DATETTME}" ] &amp;&amp; mkdir -p "${BACKUP}/${DATETIME}"
# 备份数据库
mysqldump -u${DB_USER} -p${DB_PW} --host=${HOST} -q -R --databases ${DATABASE} | gzip &gt; ${BACKUP}/${DATETIME}/$DATETIME.sql.gz

# 将文件处理成 tar.gz
cd ${BACKUP}
tar -zcvf $DATETIME.tar.gz ${DATETIME}
# 删除对应的备份目录
rm -rf ${BACKUP}/${DATETIME}
# 删除 10 天前的备份文件
find ${BACKUP} -atime +10 -name "*.tar.gz" -exec rm -rf {} \;

echo "备份数据库 ${DATABASE} 成功～"

</code></pre>
<p>开启定时任务指令</p>
<p><code>crontab -e</code></p>
<p><code>30 2 * * * /usr/sbin/mysql_db_backup.sh</code></p>
<p><code>crontab -l</code></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
